import{r as t,c as i,h as e,i as n,g as s,F as o}from"./p-a21f6813.js";import{t as r,a,d as l,e as h,i as d,j as c,r as b,h as f}from"./p-c5b91d96.js";import{T as p}from"./p-f9a7a089.js";import{F as u}from"./p-969edb88.js";import"./p-b683e35d.js";const w=class{constructor(e){t(this,e),this.fwClick=i(this,"fwClick",7),this.fwFocus=i(this,"fwFocus",7),this.fwBlur=i(this,"fwBlur",7),this.type="button",this.color="primary",this.size="normal",this.disabled=!1,this.loading=!1,this.showCaretIcon=!1,this.modalTriggerId="",this.fileUploaderId="",this.throttleDelay=200,this.hasLabel=!1,this.hasBeforeLabel=!1,this.hasAfterLabel=!1}async setFocus(){this.button.focus()}onFocus(){this.fwFocus.emit()}onBlur(){this.fwBlur.emit()}connectedCallback(){this.handleClickWithThrottle=r(this.handleClick,this,this.throttleDelay)}handlePreventDefault(t){t.preventDefault(),t.stopPropagation(),t.stopImmediatePropagation()}handleClick(t){""!==this.modalTriggerId&&this.modalTrigger(),""!==this.fileUploaderId?this.fileSubmit():"submit"===this.type&&this.fakeSubmit(t),this.fwClick.emit()}async fileSubmit(){const t=document.querySelector(`fw-file-uploader#${this.fileUploaderId}`);null==t||t.uploadFiles()}async modalTrigger(){const t=document.querySelector(`fw-modal#${this.modalTriggerId}`);null==t||t.open()}async fakeSubmit(t){const i=this.host.closest("form");if(i){t.preventDefault();const e=document.createElement("button");e.type="submit",e.style.display="none",i.appendChild(e),e.click(),e.remove()}}componentWillLoad(){this.handleSlotChange()}handleSlotChange(){this.hasLabel=a(this.host),this.hasBeforeLabel=a(this.host,"before-label"),this.hasAfterLabel=a(this.host,"after-label")}render(){return e(n,{onClick:t=>{if(this.disabled)return t.preventDefault(),t.stopPropagation(),t.stopImmediatePropagation(),!1}},e("button",{type:this.type,class:`\n            fw-btn fw-btn--${this.color.toLowerCase()}\n            fw-btn--${this.size.toLowerCase()}\n            ${this.loading?"fw-btn--loading":""}\n            ${this.hasLabel?"fw-btn--has-label":""}\n            ${this.hasBeforeLabel?"fw-btn--has-before":""}\n            ${this.hasAfterLabel?"fw-btn--has-after":""}\n            ${this.showCaretIcon?"fw-btn--caret":""}\n          `,onClick:this.disabled||this.loading?this.handlePreventDefault:this.handleClickWithThrottle,onFocus:()=>this.onFocus(),onBlur:()=>this.onBlur(),ref:t=>this.button=t,"aria-disabled":this.disabled,disabled:this.disabled},e("span",{class:"fw-btn--before"},e("slot",{onSlotchange:()=>this.handleSlotChange(),name:"before-label"})),e("span",{class:"fw-btn--label"},e("slot",{onSlotchange:()=>this.handleSlotChange()})),e("span",{class:"fw-btn--after"},e("slot",{onSlotchange:()=>this.handleSlotChange(),name:"after-label"})),this.loading?e("fw-spinner",{class:"fw-btn--loader"}):"",this.showCaretIcon?e("fw-icon",{name:"chevron-down",library:"system"}):""))}get host(){return s(this)}};w.style=':host{font-family:var(--fw-font-family, -apple-system, BlinkMacSystemFont, "Segoe UI", roboto, oxygen, ubuntu, cantarell, "Open Sans", "Helvetica Neue", sans-serif);-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;-webkit-box-sizing:border-box;box-sizing:border-box}@media screen and (prefers-reduced-motion: reduce){.fw-btn,.fw-btn--label,.fw-btn--loader{-webkit-transition:none;transition:none}}:host{display:inline-block;width:auto;cursor:pointer}.fw-btn{display:-ms-inline-flexbox;display:inline-flex;-ms-flex-line-pack:center;align-content:center;-ms-flex-align:stretch;align-items:stretch;-ms-flex-pack:center;justify-content:center;width:100%;border-style:solid;border-width:1px;font-weight:600;font-family:inherit;text-decoration:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;white-space:nowrap;vertical-align:middle;padding:0;cursor:inherit;letter-spacing:0;outline:0;border-radius:4px;--fw-icon-color:currentColor}.fw-btn .fw-btn--label{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;line-height:20px}.fw-btn:active:not(.fw-btn--loading){-webkit-box-shadow:inset 0 0 4px 0 rgba(0, 0, 0, 0.25);box-shadow:inset 0 0 4px 0 rgba(0, 0, 0, 0.25)}.fw-btn:focus{border:1px solid #2c5cc5;-webkit-box-shadow:0 0 0 1px #2c5cc5;box-shadow:0 0 0 1px #2c5cc5}.fw-btn.disabled,.fw-btn[disabled]{cursor:not-allowed}.fw-btn--primary{background-color:#264966;color:#fff;border-color:#12344d;background-image:-webkit-gradient(linear, left top, left bottom, from(#264966), to(#12344d));background-image:linear-gradient(to bottom, #264966, #12344d)}.fw-btn--primary:active{border-color:#264966}.fw-btn--primary:focus:not([disabled]),.fw-btn--primary:hover:not([disabled]){background-color:#12344d;background-image:none}.fw-btn--primary.disabled,.fw-btn--primary[disabled]{background-image:-webkit-gradient(linear, left top, left bottom, from(#92a2b1), to(#7b8e9f));background-image:linear-gradient(to bottom, #92a2b1, #7b8e9f);border-color:#7b8e9f;color:rgba(255, 255, 255, 0.5)}.fw-btn--secondary{background-color:#f5f7f9;color:#12344d;border-color:#cfd7df;background-image:-webkit-gradient(linear, left top, left bottom, from(#fff), to(#f5f7f9));background-image:linear-gradient(to bottom, #fff, #f5f7f9)}.fw-btn--secondary:active{border-color:#ebeff3}.fw-btn--secondary:focus:not([disabled]),.fw-btn--secondary:hover:not([disabled]){background-color:#f5f7f9;background-image:none}.fw-btn--secondary.disabled,.fw-btn--secondary[disabled]{background:#ebeff3;border-color:#cfd7df;color:#92a2b1}.fw-btn--danger{color:#fff;background-color:#d72d30;border-color:#c82124;background-image:-webkit-gradient(linear, left top, left bottom, from(#d72d30), to(#c82124));background-image:linear-gradient(to bottom, #d72d30, #c82124)}.fw-btn--danger:focus:not([disabled]),.fw-btn--danger:hover:not([disabled]){background-color:#c82124;background-image:none}.fw-btn--danger.disabled,.fw-btn--danger[disabled]{background-image:-webkit-gradient(linear, left top, left bottom, from(#f89fa1), to(#f2797b));background-image:linear-gradient(to bottom, #f89fa1, #f2797b);border-color:#f2797b;color:rgba(255, 255, 255, 0.5)}.fw-btn--link{background-color:transparent;background-image:none;border:1px solid transparent;color:#2c5cc5}.fw-btn--text{background-color:transparent;background-image:none;border:1px solid transparent;color:#264966}.fw-btn--text:focus:not([disabled]),.fw-btn--link:focus:not([disabled]){border-color:#2c5cc5;-webkit-box-shadow:0 0 0 1px #2c5cc5;box-shadow:0 0 0 1px #2c5cc5;background-color:transparent}.fw-btn--text:hover:not([disabled]),.fw-btn--link:hover:not([disabled]){background-color:#ebeff3}.fw-btn--text.disabled,.fw-btn--text[disabled],.fw-btn--link.disabled,.fw-btn--link[disabled]{opacity:0.5}.fw-btn--mini{height:16px}.fw-btn--mini .fw-btn--label{font-size:10px}.fw-btn--mini fw-spinner{-webkit-transform:scale(0.5);transform:scale(0.5)}.fw-btn--small{height:24px}.fw-btn--small .fw-btn--label{font-size:12px}.fw-btn--small fw-spinner{-webkit-transform:scale(0.75);transform:scale(0.75)}.fw-btn--normal{min-width:var(--fw-button-min-width, 80px);height:32px}.fw-btn--icon{min-width:32px;width:32px;height:32px;padding:0}.fw-btn--icon-small{min-width:24px;width:24px;height:24px;padding:0}.fw-btn--before,.fw-btn--after,.fw-btn--caret{-ms-flex:0 0 auto;flex:0 0 auto;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}.fw-btn--normal ::slotted(fw-icon){--fw-icon-size:12px}.fw-btn--small ::slotted(fw-icon){--fw-icon-size:10px}.fw-btn--mini ::slotted(fw-icon){--fw-icon-size:8px}.fw-btn--has-label.fw-btn--normal .fw-btn--label{padding-inline:var(--fw-button-label-vertical-padding, 12px);padding-block:0}.fw-btn--has-before.fw-btn--normal{-webkit-padding-start:8px;padding-inline-start:8px}.fw-btn--has-before.fw-btn--normal .fw-btn--label{-webkit-padding-start:8px;padding-inline-start:8px}.fw-btn--has-after.fw-btn--normal,.fw-btn--caret.fw-btn--normal{-webkit-padding-end:8px;padding-inline-end:8px}.fw-btn--has-after.fw-btn--normal .fw-btn--label,.fw-btn--caret.fw-btn--normal .fw-btn--label{-webkit-padding-end:8px;padding-inline-end:8px}.fw-btn--has-label.fw-btn--small .fw-btn--label{padding-inline:var(--fw-button-label-vertical-padding, 8px);padding-block:0}.fw-btn--has-before.fw-btn--small{-webkit-padding-start:6px;padding-inline-start:6px}.fw-btn--has-before.fw-btn--small .fw-btn--label{-webkit-padding-start:6px;padding-inline-start:6px}.fw-btn--has-after.fw-btn--small,.fw-btn--caret.fw-btn--small{-webkit-padding-end:6px;padding-inline-end:6px}.fw-btn--has-after.fw-btn--small .fw-btn--label,.fw-btn--caret.fw-btn--small .fw-btn--label{-webkit-padding-end:6px;padding-inline-end:6px}.fw-btn--has-label.fw-btn--mini .fw-btn--label{padding-inline:var(--fw-button-label-vertical-padding, 6px);padding-block:0}.fw-btn--has-before.fw-btn--mini{-webkit-padding-start:4px;padding-inline-start:4px}.fw-btn--has-before.fw-btn--mini .fw-btn--label{-webkit-padding-start:4px;padding-inline-start:4px}.fw-btn--has-after.fw-btn--mini,.fw-btn--caret.fw-btn--mini{-webkit-padding-end:4px;padding-inline-end:4px}.fw-btn--has-after.fw-btn--mini .fw-btn--label,.fw-btn--caret.fw-btn--mini .fw-btn--label{-webkit-padding-end:4px;padding-inline-end:4px}.fw-btn--caret fw-icon{--fw-icon-size:9px}.fw-btn--caret.fw-btn--mini fw-icon{--fw-icon-size:6px}.fw-btn--loading{position:relative;cursor:wait}.fw-btn--loading .fw-btn--label,.fw-btn--loading .fw-btn--before,.fw-btn--loading .fw-btn--after,.fw-btn--loading .fw-btn--caret{opacity:0}.fw-btn--loading .fw-btn--loader{--fw-spinner-color:currentColor;opacity:1;line-height:0}.fw-btn--label,.fw-btn--loader{-webkit-transition:opacity 0.3s ease-out;transition:opacity 0.3s ease-out}.fw-btn--loader{opacity:0;position:absolute;font-size:1em;height:1em;width:1em;inset-block-start:calc(50% - 0.5em);inset-inline-start:calc(50% - 0.5em);-webkit-margin-before:-1px;margin-block-start:-1px;-webkit-margin-start:-1px;margin-inline-start:-1px}:host(.fw-button-group__button--first:not(.fw-button-group__button--last)) .fw-btn{border-start-end-radius:0;border-end-end-radius:0}:host(.fw-button-group__button--inner) .fw-btn{border-radius:0;-webkit-border-start:0;border-inline-start:0}:host(.fw-button-group__button--last:not(.fw-button-group__button--first)) .fw-btn{border-start-start-radius:0;border-end-start-radius:0;-webkit-border-start:0;border-inline-start:0}';const g=class{constructor(e){t(this,e),this.fwChange=i(this,"fwChange",7),this.fwLoading=i(this,"fwLoading",7),this.isInternalValueChange=!1,this.arrowKeyCounter=0,this.optionRefs=[],this.defaultSearchFunction=(t,i)=>new Promise((e=>{const n=t.toLowerCase();e(""!==n?i.filter((t=>{var i,e;return null===(e=null===(i=t[this.optionLabelPath])||void 0===i?void 0:i.toLowerCase())||void 0===e?void 0:e.includes(n.toLowerCase())})):i)})),this.filteredOptions=[],this.selectOptions=[],this.selectedOptionsState=[],this.isLoading=!1,this.options=[],this.value="",this.max=Number.MAX_VALUE,this.multiple=!1,this.searchable=!1,this.disabled=!1,this.variant="standard",this.checkbox=!1,this.hideTick=!1,this.notFoundText="",this.search=this.defaultSearchFunction,this.searchText="",this.noDataText="",this.debounceTimer=300,this.selectedOptions=[],this.allowDeselect=!0,this.isCreatable=!1,this.allowSelect=!0,this.optionLabelPath="text",this.optionValuePath="value",this.handleSearchWithDebounce=l((t=>{var i;this.isLoading=!0,this.fwLoading.emit({isLoading:this.isLoading});const e=t.trim();e?this.search(e,this.selectOptions).then((t=>{var i;this.filteredOptions=(null==t?void 0:t.length)>0?this.serializeData(t):this.isCreatable?[]:[{[this.optionLabelPath]:this.notFoundText||p.t("search.noItemsFound"),disabled:!0}],this.isCreatable&&!this.filteredOptions.some((t=>t[this.optionValuePath]===e))&&(this.filteredOptions=[{[this.optionLabelPath]:"function"==typeof this.formatCreateLabel?this.formatCreateLabel(e):e,[this.optionValuePath]:e,isNew:!0,graphicsProps:{name:"plus-filled",color:"#2C5CC5",width:16,height:16},variant:"icon",disabled:(null===(i=this.value)||void 0===i?void 0:i.length)>=this.max},...this.filteredOptions]),this.isLoading=!1,this.fwLoading.emit({isLoading:this.isLoading})})):(this.filteredOptions=(null===(i=this.selectOptions)||void 0===i?void 0:i.length)>0?this.selectOptions:[{[this.optionLabelPath]:this.noDataText||p.t("search.noDataAvailable"),disabled:!0}],this.isLoading=!1,this.fwLoading.emit({isLoading:this.isLoading}))}),this,this.debounceTimer)}fwSelectedHandler(t){var i;const{value:e,selected:n}=t.detail;if(n){const t=this.filteredOptions.filter((t=>t[this.optionValuePath]===e))[0];this.isCreatable&&t.isNew&&(t[this.optionLabelPath]=t[this.optionValuePath],"function"==typeof this.validateNewOption&&(t.error=!this.validateNewOption(t[this.optionValuePath])),t.graphicsProps={},t.variant="standard"),this.selectedOptionsState=this.multiple?[...this.selectedOptionsState||[],t]:[t]}else this.selectedOptionsState=this.multiple?null===(i=this.selectedOptionsState)||void 0===i?void 0:i.filter((t=>t[this.optionValuePath]!==e)):[];this.setValue(this.selectedOptionsState)}onKeyDown(t){switch(t.key){case"ArrowDown":this.arrowKeyCounter=d(this.arrowKeyCounter,this.optionRefs.length-1),this.optionRefs[this.arrowKeyCounter].setFocus(),t.preventDefault(),t.stopPropagation();break;case"ArrowUp":this.arrowKeyCounter=h(this.arrowKeyCounter,this.optionRefs.length-1),this.optionRefs[this.arrowKeyCounter].setFocus(),t.preventDefault(),t.stopPropagation()}}async clearFilter(){this.filteredOptions=this.selectOptions,this.searchable&&(this.searchInput.value="")}async scrollToLastSelected(){var t;this.filteredOptions.length>0&&this.valueExists()&&(null===(t=this.container.querySelector(`fw-select-option[id='${this.host.id}-option-${this.getLastSelectedValue()}']`))||void 0===t||t.scrollIntoView({block:"nearest"}))}async getSelectedOptions(){return this.selectedOptionsState}async setSelectedValues(t){var i;this.options&&(this.selectedOptionsState=null===(i=this.options)||void 0===i?void 0:i.filter((i=>this.isValueEqual(t,i))),this.setValue(this.selectedOptionsState))}async setSelectedOptions(t){void 0!==t&&(this.selectedOptionsState=t,this.setValue(t))}async setFocus(){this.optionRefs=[...this.container.getElementsByTagName("fw-select-option")];const t=this.getLastSelectedValue();if(t&&this.optionRefs.length>0){const i=this.optionRefs.findIndex((i=>i.value===t));this.arrowKeyCounter=-1===i?0:i}this.optionRefs[this.arrowKeyCounter].setFocus()}onOptionsChange(t){this.setDataSource(t)}disabledWatcher(){this.options=[...this.options||[]]}onValueChange(t,i){var e;if(!c(t,i)){if(t?this.validateValue(t):t=this.multiple?[]:"",this.selectOptions=this.selectOptions.map((i=>(i.selected=this.isValueEqual(t,i),i))),!this.isInternalValueChange){const i=(null===(e=this.options)||void 0===e?void 0:e.length)>0?this.options:this.selectedOptionsState;this.selectedOptionsState=null==i?void 0:i.filter((i=>this.isValueEqual(t,i)))}this.fwChange.emit({value:t,meta:{selectedOptions:this.selectedOptionsState}}),this.isInternalValueChange=!1}}onFilterTextChange(t){this.handleSearchWithDebounce(t)}onSelectedOptionsChange(t){this.setSelectedOptions(t)}valueExists(){return this.multiple?this.value.length>0:!!this.value}validateValue(t){if(this.multiple&&!Array.isArray(t))throw new Error("Value must be a array for multi-select");if(!this.multiple&&"string"!=typeof t&&"number"!=typeof t&&"bigint"!=typeof t)throw new Error("Value must be a string or number or bigint for single-select")}getLastSelectedValue(){if(this.valueExists())return this.multiple?this.value.slice(-1)[0]:this.value}setSelectedOptionsByValue(t){var i;if(!this.options)throw new Error("Options must be passed if value is set");this.selectedOptionsState=null===(i=this.options)||void 0===i?void 0:i.filter((i=>this.isValueEqual(t,i)))}serializeData(t){return t.map((t=>{var i,e;const n=this.isValueEqual(this.value,t)||t.selected,s=(null===(e=null===(i=this.selectedOptionsState)||void 0===i?void 0:i.find((i=>i[this.optionValuePath]===t[this.optionValuePath])))||void 0===e?void 0:e.disabled)||t.disabled||this.disabled;return Object.assign(Object.assign({},t),{checkbox:t.checkbox||this.checkbox,hideTick:t.hideTick||this.hideTick,variant:t.variant||this.variant,selected:n,disabled:s,allowDeselect:this.allowDeselect})}))}isValueEqual(t,i){return this.multiple?t.includes(i[this.optionValuePath]):t===i[this.optionValuePath]}setValue(t){let i;i=(null==t?void 0:t.length)>0?this.multiple?t.map((t=>t[this.optionValuePath])):t[0][this.optionValuePath]:this.multiple?[]:"",c(this.value,i)||(this.isInternalValueChange=!0,this.value=i)}setDataSource(t){this.selectOptions=(null==t?void 0:t.length)>0?this.serializeData(t):[{[this.optionLabelPath]:this.noDataText||p.t("search.noDataAvailable"),disabled:!0}],this.filteredOptions=this.selectOptions}renderSelectOptions(t){return t.map((t=>{var i,n,s;const o=(null===(n=null===(i=this.selectedOptionsState)||void 0===i?void 0:i.find((i=>i[this.optionValuePath]===t[this.optionValuePath])))||void 0===n?void 0:n.disabled)||t.disabled||!this.allowDeselect&&t.selected||this.multiple&&!t.selected&&(null===(s=this.value)||void 0===s?void 0:s.length)>=this.max,r=[this.noDataText,p.t("search.noDataAvailable"),this.notFoundText,p.t("search.noItemsFound")].includes(t[this.optionLabelPath]);return e("fw-select-option",Object.assign({id:`${this.host.id}-option-${t[this.optionValuePath]}`,key:t[this.optionValuePath],allowSelect:this.allowSelect},t,{text:t[this.optionLabelPath],value:t[this.optionValuePath],disabled:o,checkbox:!r&&(this.checkbox||t.checkbox)}))}))}renderSearchInput(){return e("fw-input",{class:"input-search",ref:t=>this.searchInput=t,placeholder:this.searchText||p.t("search.search"),onInput:()=>this.handleSearchWithDebounce(this.searchInput.value)})}componentWillLoad(){var t;if(this.validateValue(this.value),(null===(t=this.selectedOptions)||void 0===t?void 0:t.length)>0?(this.selectedOptionsState=this.selectedOptions,this.value=this.multiple?this.selectedOptionsState.map((t=>t[this.optionValuePath])):this.selectedOptionsState[0][this.optionValuePath]):this.valueExists()?this.setSelectedOptionsByValue(this.value):this.setValue([]),this.multiple&&"string"==typeof this.value)throw Error("value must be a array of string when multiple is true");this.setDataSource(this.options)}render(){return e("div",{class:"container",ref:t=>{this.container=t}},this.searchable&&this.renderSearchInput(),this.renderSelectOptions(this.filteredOptions))}get host(){return s(this)}static get watchers(){return{options:["onOptionsChange"],disabled:["disabledWatcher"],value:["onValueChange"],filterText:["onFilterTextChange"],selectedOptions:["onSelectedOptionsChange"]}}};g.style=':host{font-family:var(--fw-font-family, -apple-system, BlinkMacSystemFont, "Segoe UI", roboto, oxygen, ubuntu, cantarell, "Open Sans", "Helvetica Neue", sans-serif);-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;-webkit-box-sizing:border-box;box-sizing:border-box}.container{margin:0px;-webkit-padding-after:8px;padding-block-end:8px;padding-inline:8px;-webkit-padding-before:12px;padding-block-start:12px;display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column}.input-search{-webkit-margin-after:4px;margin-block-end:4px}';var m="object"==typeof global&&global&&global.Object===Object&&global,x="object"==typeof self&&self&&self.Object===Object&&self,v=m||x||Function("return this")(),k=v.Symbol,y=Object.prototype,O=y.hasOwnProperty,S=y.toString,z=k?k.toStringTag:void 0,$=Object.prototype.toString,C=k?k.toStringTag:void 0;function _(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":C&&C in Object(t)?function(t){var i=O.call(t,z),e=t[z];try{t[z]=void 0;var n=!0}catch(o){}var s=S.call(t);return n&&(i?t[z]=e:delete t[z]),s}(t):function(t){return $.call(t)}(t)}var j=/\s/,F=/^\s+/;function T(t){var i=typeof t;return null!=t&&("object"==i||"function"==i)}var I=/^[-+]0x[0-9a-f]+$/i,D=/^0b[01]+$/i,N=/^0o[0-7]+$/i,A=parseInt;function E(t){if("number"==typeof t)return t;if(function(t){return"symbol"==typeof t||function(t){return null!=t&&"object"==typeof t}(t)&&"[object Symbol]"==_(t)}(t))return NaN;if(T(t)){var i="function"==typeof t.valueOf?t.valueOf():t;t=T(i)?i+"":i}if("string"!=typeof t)return 0===t?t:+t;var e;t=(e=t)?e.slice(0,function(t){for(var i=t.length;i--&&j.test(t.charAt(i)););return i}(e)+1).replace(F,""):e;var n=D.test(t);return n||N.test(t)?A(t.slice(2),n?2:8):I.test(t)?NaN:+t}function B(t){return t?1/0===(t=E(t))||-1/0===t?17976931348623157e292*(t<0?-1:1):t==t?t:0:0===t?t:0}function L(t){if(!T(t))return!1;var i=_(t);return"[object Function]"==i||"[object GeneratorFunction]"==i||"[object AsyncFunction]"==i||"[object Proxy]"==i}var H,P=v["__core-js_shared__"],V=(H=/[^.]+$/.exec(P&&P.keys&&P.keys.IE_PROTO||""))?"Symbol(src)_1."+H:"",W=Function.prototype.toString,U=/^\[object .+?Constructor\]$/,M=RegExp("^"+Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function K(t,i){var e=function(t,i){return null==t?void 0:t[i]}(t,i);return function(t){return!(!T(t)||(i=t,V&&V in i))&&(L(t)?M:U).test(function(t){if(null!=t){try{return W.call(t)}catch(i){}try{return t+""}catch(i){}}return""}(t));var i}(e)?e:void 0}function R(t){return t!=t}function q(t,i){return!(null==t||!t.length)&&function(t,i){return i==i?function(t,i){for(var e=-1,n=t.length;++e<n;)if(t[e]===i)return e;return-1}(t,i):function(t,i){for(var e=t.length,n=-1;++n<e;)if(i(t[n],n,t))return n;return-1}(t,R)}(t,i)>-1}var J=/^(?:0|[1-9]\d*)$/;function G(t,i){return t===i||t!=t&&i!=i}var Q=K(Object,"create"),X=Object.prototype.hasOwnProperty,Y=Object.prototype.hasOwnProperty;function Z(t){var i=-1,e=null==t?0:t.length;for(this.clear();++i<e;){var n=t[i];this.set(n[0],n[1])}}function tt(t,i){for(var e=t.length;e--;)if(G(t[e][0],i))return e;return-1}Z.prototype.clear=function(){this.__data__=Q?Q(null):{},this.size=0},Z.prototype.delete=function(t){var i=this.has(t)&&delete this.__data__[t];return this.size-=i?1:0,i},Z.prototype.get=function(t){var i=this.__data__;if(Q){var e=i[t];return"__lodash_hash_undefined__"===e?void 0:e}return X.call(i,t)?i[t]:void 0},Z.prototype.has=function(t){var i=this.__data__;return Q?void 0!==i[t]:Y.call(i,t)},Z.prototype.set=function(t,i){var e=this.__data__;return this.size+=this.has(t)?0:1,e[t]=Q&&void 0===i?"__lodash_hash_undefined__":i,this};var it=Array.prototype.splice;function et(t){var i=-1,e=null==t?0:t.length;for(this.clear();++i<e;){var n=t[i];this.set(n[0],n[1])}}et.prototype.clear=function(){this.__data__=[],this.size=0},et.prototype.delete=function(t){var i=this.__data__,e=tt(i,t);return!(e<0||(e==i.length-1?i.pop():it.call(i,e,1),--this.size,0))},et.prototype.get=function(t){var i=this.__data__,e=tt(i,t);return e<0?void 0:i[e][1]},et.prototype.has=function(t){return tt(this.__data__,t)>-1},et.prototype.set=function(t,i){var e=this.__data__,n=tt(e,t);return n<0?(++this.size,e.push([t,i])):e[n][1]=i,this};var nt=K(v,"Map");function st(t,i){var e,n,s=t.__data__;return("string"==(n=typeof(e=i))||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==e:null===e)?s["string"==typeof i?"string":"hash"]:s.map}function ot(t){var i=-1,e=null==t?0:t.length;for(this.clear();++i<e;){var n=t[i];this.set(n[0],n[1])}}ot.prototype.clear=function(){this.size=0,this.__data__={hash:new Z,map:new(nt||et),string:new Z}},ot.prototype.delete=function(t){var i=st(this,t).delete(t);return this.size-=i?1:0,i},ot.prototype.get=function(t){return st(this,t).get(t)},ot.prototype.has=function(t){return st(this,t).has(t)},ot.prototype.set=function(t,i){var e=st(this,t),n=e.size;return e.set(t,i),this.size+=e.size==n?0:1,this};var rt=K(v,"Set");function at(t){var i=-1,e=null==t?0:t.length;for(this.__data__=new ot;++i<e;)this.add(t[i])}function lt(t,i){return t.has(i)}function ht(t){var i=-1,e=Array(t.size);return t.forEach((function(t){e[++i]=t})),e}at.prototype.add=at.prototype.push=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this},at.prototype.has=function(t){return this.__data__.has(t)};var dt=Math.ceil,ct=Math.max,bt=function(t,i,e){return e&&"number"!=typeof e&&function(t,i,e){if(!T(e))return!1;var n=typeof i;return!!("number"==n?function(t){return null!=t&&function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}(t.length)&&!L(t)}(e)&&function(t,i){var e=typeof t;return!!(i=null==i?9007199254740991:i)&&("number"==e||"symbol"!=e&&J.test(t))&&t>-1&&t%1==0&&t<i}(i,e.length):"string"==n&&i in e)&&G(e[i],t)}(t,i,e)&&(i=e=void 0),t=B(t),void 0===i?(i=t,t=0):i=B(i),function(t,i,e){for(var n=-1,s=ct(dt((i-t)/(e||1)),0),o=Array(s);s--;)o[++n]=t,t+=e;return o}(t,i,e=void 0===e?t<i?1:-1:B(e))},ft=rt&&1/ht(new rt([,-0]))[1]==1/0?function(t){return new rt(t)}:function(){};const pt=class{constructor(e){t(this,e),this.fwChange=i(this,"fwChange",7),this.fwFocus=i(this,"fwFocus",7),this.fwBlur=i(this,"fwBlur",7),this.tagArrowKeyCounter=0,this.changeEmittable=()=>!this.disabled,this.innerOnFocus=t=>{this.changeEmittable()&&(this.hasFocus=!0,this.fwFocus.emit(t),this.focusedValues=[])},this.innerOnClick=()=>{var t,i;this.changeEmittable()&&(this.setFocus(),this.multiple||null===(i=null===(t=this.selectInput)||void 0===t?void 0:t.select)||void 0===i||i.call(t),["search","mail"].includes(this.variant)||this.openDropdown(),this.focusedValues=[])},this.innerOnBlur=t=>{this.changeEmittable()&&(this.hasFocus=!1,this.fwBlur.emit({event:t,name:this.name}))},this.openDropdown=()=>{!this.isExpanded&&this.changeEmittable()&&this.popoverRef.show()},this.closeDropdown=()=>{this.isExpanded&&this.changeEmittable()&&this.popoverRef.hide()},this.isExpanded=!1,this.hasFocus=!1,this.selectedOptionsState=[],this.isLoading=!1,this.focusedOptionId="",this.hasHintTextSlot=!1,this.hasWarningTextSlot=!1,this.hasErrorTextSlot=!1,this.focusedValues=[],this.label="",this.name="",this.type="text",this.state="normal",this.readonly=!1,this.required=!1,this.forceSelect=!0,this.disabled=!1,this.multiple=!1,this.max=Number.MAX_VALUE,this.variant="standard",this.optionsVariant="standard",this.searchable=!0,this.checkbox=!1,this.notFoundText="",this.noDataText="",this.debounceTimer=300,this.selectedOptions=[],this.sameWidth=!0,this.optionsPlacement="bottom",this.fallbackPlacements=["top"],this.tagVariant="standard",this.caret=!0,this.labelledBy="",this.allowDeselect=!0,this.hintText="",this.warningText="",this.errorText="",this.creatableProps={isCreatable:!1,validateNewOption:()=>!0,formatCreateLabel:t=>t},this.hoist=!1,this.optionLabelPath="text",this.optionValuePath="value",this.maxHeight="none",this.tagProps={},this.matchValueWithOptions=()=>{var t;if((null===(t=this.dataSource)||void 0===t?void 0:t.length)>0){const t=this.dataSource.filter((t=>this.isValueEqual(this.value,t))),i=t.map((t=>t[this.optionValuePath])),e=this.multiple?i:i[0];c(this.value,e)||(this.value=e||(this.multiple?[]:"")),JSON.stringify(this.selectedOptionsState)!==JSON.stringify(t)&&(this.selectedOptionsState=t)}else this.value=this.multiple?[]:"";this.renderInput()},this.tagContainerKeyDown=t=>{var i,e,n,s,o;if(this.changeEmittable())switch(t.key){case"Escape":this.innerOnBlur(t),this.closeDropdown();break;case"Delete":case"Backspace":this.deleteFocusedTags();break;case"ArrowLeft":0===(null===(i=this.focusedValues)||void 0===i?void 0:i.length)?this.focusOnTagContainer():this.tagArrowKeyCounter-1>=0?(null===(e=this.selectedOptionsState[this.tagArrowKeyCounter-1])||void 0===e?void 0:e.disabled)||(this.tagArrowKeyCounter--,this.focusOnTag(this.tagArrowKeyCounter)):this.tagArrowKeyCounter=0,t.preventDefault(),t.stopPropagation(),t.stopImmediatePropagation();break;case"ArrowRight":this.tagArrowKeyCounter+1>=(null===(n=this.value)||void 0===n?void 0:n.length)?null===(s=this.selectInput)||void 0===s||s.focus():this.tagArrowKeyCounter<=(null===(o=this.value)||void 0===o?void 0:o.length)&&(this.tagArrowKeyCounter++,this.focusOnTag(this.tagArrowKeyCounter)),t.preventDefault(),t.stopPropagation(),t.stopImmediatePropagation()}}}onDropdownClose(t){var i;"select-popover"===t.composedPath()[0].id&&(this.clearInput(),this.isExpanded=!1,this.multiple&&(null===(i=this.selectInput)||void 0===i||i.focus()))}onDropdownOpen(t){"select-popover"===t.composedPath()[0].id&&(this.isExpanded=!0)}onLoading(t){var i,e;this.isLoading=t.detail.isLoading,["search","mail"].includes(this.variant)&&!this.isLoading&&(null===(e=null===(i=this.selectInput)||void 0===i?void 0:i.value)||void 0===e?void 0:e.trim())&&this.openDropdown()}fwSelectedHandler(t){var i,e,n;"FW-LIST-OPTIONS"===t.composedPath()[0].tagName&&(this.selectedOptionsState=null===(e=null===(i=t.detail)||void 0===i?void 0:i.meta)||void 0===e?void 0:e.selectedOptions,this.value=t.detail.value,this.renderInput(),this.multiple&&!["search","mail"].includes(this.variant)||this.closeDropdown(),t.stopImmediatePropagation(),t.stopPropagation(),t.preventDefault(),(null===(n=this.selectedOptionsState)||void 0===n?void 0:n.length)>0?this.fwChange.emit({name:this.name,value:this.value,meta:{selectedOptions:this.selectedOptionsState}}):this.fwChange.emit({name:this.name,value:this.value,meta:{shouldValidate:!1,selectedOptions:this.selectedOptionsState}}))}fwCloseHandler(t){var i;this.setSelectedOptions(null===(i=this.selectedOptionsState)||void 0===i?void 0:i.filter(((i,e)=>e!==t.detail.index))),this.focusOnTagContainer()}onKeyDown(t){var i,e,n;if(this.changeEmittable())switch(t.key){case"ArrowDown":this.innerOnClick(),this.fwListOptions.setFocus(),t.preventDefault(),t.stopPropagation();break;case"Delete":case"Backspace":!this.readonly&&this.multiple&&(this.deleteFocusedTags(),0===this.focusedValues.length&&""===(null===(i=this.selectInput)||void 0===i?void 0:i.value)&&this.focusOnTagContainer());break;case"Escape":this.innerOnBlur(t),this.closeDropdown();break;case"Tab":this.focusedValues=[],this.closeDropdown();break;case"a":case"A":!this.readonly&&this.multiple&&(t.ctrlKey||t.metaKey)&&(!this.searchValue||this.focusedValues.length>0)&&(t.preventDefault(),t.stopPropagation(),null===(e=this.tagContainer)||void 0===e||e.focus(),this.focusedValues=null===(n=this.selectedOptionsState)||void 0===n?void 0:n.reduce(((t,i,e)=>(!i.disabled&&t.push(e),t)),[]))}}onOptionFocus(t){"FW-SELECT-OPTION"===t.composedPath()[0].tagName&&(this.focusedOptionId=t.detail.id)}onOptionBlur(t){"FW-SELECT-OPTION"===t.composedPath()[0].tagName&&(this.focusedOptionId="")}optionsChangedHandler(){this.renderInput()}onOptionsChange(t){var i;const e=null==t?void 0:t.filter((t=>t.selected));(null==e?void 0:e.length)>0?(this.selectedOptionsState=e,this.value=this.multiple?this.selectedOptionsState.map((t=>t[this.optionValuePath])):null===(i=this.selectedOptionsState[0])||void 0===i?void 0:i[this.optionValuePath],this.dataSource=t):this.valueExists()?(this.dataSource=t,this.matchValueWithOptions()):(this.value=this.multiple?[]:"",this.selectedOptionsState=[],this.dataSource=t)}onSelectedOptionsChange(t){this.setSelectedOptions(t)}async getSelectedItem(){var t;return null===(t=this.fwListOptions)||void 0===t?void 0:t.getSelectedOptions()}async setSelectedValues(t){var i;null===(i=this.fwListOptions)||void 0===i||i.setSelectedValues(t),this.renderInput()}async setSelectedOptions(t){var i;null===(i=this.fwListOptions)||void 0===i||i.setSelectedOptions(t),this.renderInput()}async setFocus(){var t;this.hasFocus=!0,null===(t=this.selectInput)||void 0===t||t.focus()}async showDropdown(){this.openDropdown()}async hideDropdown(){this.closeDropdown()}deleteFocusedTags(){var t;this.focusedValues.length>0&&(this.setSelectedOptions(null===(t=this.selectedOptionsState)||void 0===t?void 0:t.filter(((t,i)=>!this.focusedValues.includes(i)))),this.focusedValues=[])}focusOnTagContainer(){var t,i,e;Array.isArray(this.value)&&!(null===(i=this.selectedOptionsState[(null===(t=this.value)||void 0===t?void 0:t.length)-1])||void 0===i?void 0:i.disabled)&&(this.tagArrowKeyCounter=(null===(e=this.value)||void 0===e?void 0:e.length)-1,this.focusOnTag(this.tagArrowKeyCounter))}focusOnTag(t){var i;(null===(i=this.selectedOptionsState[t])||void 0===i?void 0:i.disabled)||(this.focusedValues=[t],this.tagContainer.focus(),[...this.tagContainer.querySelectorAll("fw-tag")][t].scrollIntoView({behavior:"smooth",block:"nearest"}))}clearInput(){this.multiple||!this.value?(this.searchValue="",this.selectInput&&(this.selectInput.value="")):this.renderInput()}isValueEqual(t,i){return this.multiple?t.includes(i[this.optionValuePath]):t===i[this.optionValuePath]}valueExists(){var t;return this.value&&(this.multiple?(null===(t=this.value)||void 0===t?void 0:t.length)>0:!!this.value)}onInput(){var t,i;this.changeEmittable()&&(this.searchValue=null===(t=this.selectInput)||void 0===t?void 0:t.value,(null===(i=this.selectInput)||void 0===i?void 0:i.value)?!["search","mail"].includes(this.variant)&&this.openDropdown():(this.multiple||this.setSelectedValues(""),["search","mail"].includes(this.variant)&&this.closeDropdown()),this.focusedValues=[])}onClickTag(t,i){var e,n;if(this.changeEmittable()&&(t.stopPropagation(),this.tagContainer.focus(),t.currentTarget.scrollIntoView({behavior:"smooth",block:"nearest"}),!(null===(e=this.selectedOptionsState[i])||void 0===e?void 0:e.disabled))){const e=this.focusedValues.indexOf(i);if(-1===e)if(t.ctrlKey||t.metaKey)this.focusedValues=[...this.focusedValues,i];else if(t.shiftKey&&this.focusedValues.length>0){const t=this.focusedValues[this.focusedValues.length-1];this.focusedValues=(n=[...this.focusedValues,...bt(t,i>t?i+1:i-1)])&&n.length?function(t,i,e){var n=-1,s=q,o=t.length,r=!0,a=[],l=a;if(o>=200){var h=ft(t);if(h)return ht(h);r=!1,s=lt,l=new at}else l=a;t:for(;++n<o;){var d=t[n],c=d;if(d=0!==d?d:0,r&&c==c){for(var b=l.length;b--;)if(l[b]===c)continue t;a.push(d)}else s(l,c,e)||(l!==a&&l.push(c),a.push(d))}return a}(n):[]}else this.focusedValues=[i];else t.ctrlKey||t.metaKey?this.focusedValues=this.focusedValues.filter(((t,i)=>i!==e)):t.shiftKey||(this.focusedValues=[i])}}renderTags(){var t;if(this.multiple&&Array.isArray(this.value))return null===(t=this.selectedOptionsState)||void 0===t?void 0:t.map(((t,i)=>{if(this.isValueEqual(this.value,t)){const n=this.disabled||t.disabled?"tag-disabled":"tag-clickable",s="mail"===this.variant?{text:t[this.optionValuePath],showEllipsisOnOverflow:!0,class:n+" bold-tag"}:{text:t[this.optionLabelPath],subText:t.subText};return e("fw-tag",Object.assign({index:i,class:n,state:t.error||"mail"===this.variant&&i>=this.max?"error":"normal",variant:this.tagVariant,graphicsProps:t.graphicsProps,disabled:this.disabled||t.disabled,value:t[this.optionValuePath],focusable:!1,closable:!this.disabled&&!t.disabled,isFocused:this.focusedValues.includes(i),onClick:t=>this.onClickTag(t,i)},s,this.tagProps))}}))}renderButtonValue(){var t,i,n,s,o,r,a;return"avatar"===this.tagVariant&&(null===(t=this.selectedOptionsState[0])||void 0===t?void 0:t[this.optionValuePath])?e("fw-tag",{class:"display-tag",state:"transparent",variant:"avatar",graphicsProps:null===(i=this.selectedOptionsState[0])||void 0===i?void 0:i.graphicsProps,text:null===(n=this.selectedOptionsState[0])||void 0===n?void 0:n[this.optionLabelPath],subText:(null===(s=this.selectedOptionsState[0])||void 0===s?void 0:s.subText)?`<${null===(o=this.selectedOptionsState[0])||void 0===o?void 0:o.subText}>`:"",disabled:null===(r=this.selectedOptionsState[0])||void 0===r?void 0:r.disabled,value:null===(a=this.selectedOptionsState[0])||void 0===a?void 0:a[this.optionValuePath],focusable:!1,closable:!1,showEllipsisOnOverflow:!0}):this.value}renderInput(){var t;(null===(t=this.selectedOptionsState)||void 0===t?void 0:t.length)>0?this.selectInput&&(this.selectInput.value="",this.selectInput.value=this.multiple?this.selectInput.value:this.selectedOptionsState[0][this.optionLabelPath]||""):this.selectInput&&(this.selectInput.value="")}renderSelectInput(){return e("input",{ref:t=>this.selectInput=t,class:{"multiple-select":this.multiple},autoComplete:"off",disabled:this.disabled,name:this.name,id:this.name,placeholder:this.valueExists()?"":this.placeholder||"",readOnly:this.readonly,required:this.required,type:this.type,value:"","aria-autocomplete":"list","aria-activedescendant":this.focusedOptionId,onInput:()=>this.onInput(),onFocus:t=>this.innerOnFocus(t),onBlur:t=>this.innerOnBlur(t),"aria-invalid":"error"===this.state,"aria-describedby":`hint-${this.name} error-${this.name}`,onPaste:t=>this.onPaste(t),"aria-disabled":this.disabled})}onClickOutside(t){!t.composedPath().includes(this.host)&&this.focusedValues.length>0&&(this.focusedValues=[])}componentWillLoad(){var t,i,e,n,s,o,r,a;this.boundary||(this.boundary=this.host.parentElement),this.checkSlotContent(),"mail"===this.variant&&(this.caret=!1,this.multiple=!0);const l=Array.from(this.host.querySelectorAll("fw-select-option"));if((null===(t=this.selectedOptions)||void 0===t?void 0:t.length)>0&&(this.selectedOptionsState=this.selectedOptions,this.value=this.multiple?this.selectedOptions.map((t=>t[this.optionValuePath])):this.selectedOptions[0][this.optionValuePath]),this.multiple){if(this.multiple&&"string"==typeof this.value)throw Error("value must be a array of string when multiple is true");this.value=(null===(i=this.value)||void 0===i?void 0:i.length)>0?this.value:[]}else this.value=this.value?this.value:"";const h=l.map((t=>({html:t.html,[this.optionLabelPath]:t.html?t.optionText:t.textContent,[this.optionValuePath]:t.value,selected:this.isValueEqual(this.value,t)||t.selected,disabled:t.disabled,htmlContent:t.html?t.innerHTML:""})));if(this.dataSource=0===h.length?this.options:h,!this.multiple&&this.value&&0===(null===(e=this.selectedOptions)||void 0===e?void 0:e.length)?this.selectedOptionsState=null===(n=this.dataSource)||void 0===n?void 0:n.filter((t=>this.value===t[this.optionValuePath])):this.multiple&&(null===(s=this.value)||void 0===s?void 0:s.length)!==(null===(o=this.selectedOptions)||void 0===o?void 0:o.length)&&(this.selectedOptionsState=null===(r=this.dataSource)||void 0===r?void 0:r.filter((t=>this.isValueEqual(this.value,t)))),(null===(a=this.dataSource)||void 0===a?void 0:a.length)>0){const t=this.dataSource.filter((t=>t.selected)),i=t.map((t=>t[this.optionValuePath])),e=this.multiple?i:i[0];i.length>0&&JSON.stringify(this.value)!==JSON.stringify(e)&&(this.value=e,this.selectedOptionsState=t)}this.host.addEventListener("focus",this.setFocus),this.hostId=this.host.id||"",document.addEventListener("mouseup",this.onClickOutside.bind(this))}componentDidLoad(){this.renderInput()}disconnectedCallback(){this.host.removeEventListener("focus",this.setFocus),document.removeEventListener("mouseup",this.onClickOutside.bind(this))}expandWatcher(t){var i,e,n,s;if("button"===this.variant){const o=null===(s=null===(n=null===(e=null===(i=this.host.shadowRoot)||void 0===i?void 0:i.querySelector(".select-container"))||void 0===e?void 0:e.querySelector("fw-button"))||void 0===n?void 0:n.shadowRoot)||void 0===s?void 0:s.querySelector("fw-icon");o&&(o.name=t?"chevron-up":"chevron-down")}}checkSlotContent(){this.hasHintTextSlot=a(this.host,"hint-text"),this.hasWarningTextSlot=a(this.host,"warning-text"),this.hasErrorTextSlot=a(this.host,"error-text")}getAriaDescribedBy(){return"normal"===this.state?`hint-${this.name}`:"error"===this.state?`error-${this.name}`:"warning"===this.state?`warning-${this.name}`:null}onPaste(t){var i;if(null===(i=this.creatableProps)||void 0===i?void 0:i.isCreatable){const i=(null==t?void 0:t.clipboardData)||window.clipboardData,e=null==i?void 0:i.getData("Text");if(e.includes("\n")||e.includes(",")){t.stopPropagation(),t.preventDefault();const i=e.split(/[\n,]/),n=[];i.forEach((t=>{var i,e;const s=t.trim();s&&n.push({[this.optionLabelPath]:s,[this.optionValuePath]:s,error:"function"==typeof(null===(i=this.creatableProps)||void 0===i?void 0:i.validateNewOption)&&!(null===(e=this.creatableProps)||void 0===e?void 0:e.validateNewOption(s))})})),n.length>0&&this.setSelectedOptions([...this.selectedOptionsState,...n])}}}render(){const{host:t,name:i,value:n}=this;b(t,i,n);const s=Object.assign(Object.assign({},this.creatableProps),"mail"===this.variant?{}:{max:this.max});return e(u,{inputId:this.name,label:this.label,labelId:`${this.label}-${this.name}`,state:this.state,hintTextId:`hint-${this.name}`,hintText:this.hintText,hasHintTextSlot:this.hasHintTextSlot,errorTextId:`error-${this.name}`,errorText:this.errorText,hasErrorTextSlot:this.hasErrorTextSlot,warningTextId:`warning-${this.name}`,warningText:this.warningText,hasWarningTextSlot:this.hasWarningTextSlot,required:this.required},e("div",{"aria-disabled":this.disabled,class:{"has-focus":this.hasFocus}},e("div",{class:{"select-container":!0,[this.state]:!0},role:"combobox","aria-controls":`${this.hostId}-listbox`,"aria-haspopup":"listbox","aria-expanded":this.isExpanded,"aria-owns":`${this.hostId}-listbox`},e("fw-popover",{id:"select-popover",distance:"8",trigger:"manual",ref:t=>this.popoverRef=t,sameWidth:this.sameWidth,placement:this.optionsPlacement,fallbackPlacements:this.fallbackPlacements,boundary:this.boundary,hoist:this.hoist},e("div",{slot:"popover-trigger",class:{"input-container":"button"!==this.variant,[this.state]:!0,"select-disabled":this.disabled,"button-container":"button"===this.variant},onClick:()=>this.innerOnClick(),onKeyDown:f(this.innerOnClick,!0)},"button"===this.variant?e("fw-button",{style:{"--fw-button-label-vertical-padding":"7px"},"show-caret-icon":!0,id:`${this.hostId}-btn`,color:"avatar"===this.tagVariant?"text":"secondary",class:this.host.classList.value.includes("first")?"fw-button-group__button--first":this.host.classList.value.includes("last")?"fw-button-group__button--last":"","aria-disabled":this.disabled,disabled:this.disabled},this.renderButtonValue()):e(o,null,e("div",{class:"input-container-inner"},this.multiple?e("div",{class:`tag-container ${this.tagVariant}`,onFocus:this.focusOnTagContainer,ref:t=>this.tagContainer=t,onKeyDown:this.tagContainerKeyDown,tabIndex:-1,style:{"max-height":this.maxHeight}},this.renderTags(),this.renderSelectInput()):this.renderSelectInput()),this.isLoading?e("fw-spinner",{size:"small"}):this.caret&&e("span",{class:{"dropdown-status-icon":!0,expanded:this.isExpanded,disabled:this.disabled}},e("fw-icon",{name:"chevron-down",size:8,library:"system"})))),e("fw-list-options",Object.assign({ref:t=>this.fwListOptions=t,id:`${this.hostId}-listbox`,role:"listbox","aria-labelledby":this.labelledBy||`${this.hostId}-label`,notFoundText:this.notFoundText||p.t("search.noItemsFound"),debounceTimer:this.debounceTimer,noDataText:this.noDataText||p.t("search.noDataAvailable"),search:this.search,selectedOptions:this.selectedOptionsState,variant:this.optionsVariant,"filter-text":this.searchValue,options:this.dataSource,value:this.value,multiple:this.multiple,disabled:this.disabled,checkbox:this.checkbox,allowDeselect:this.allowDeselect,slot:"popover-content",optionLabelPath:this.optionLabelPath,optionValuePath:this.optionValuePath},s))))))}get host(){return s(this)}static get watchers(){return{dataSource:["optionsChangedHandler"],options:["onOptionsChange"],selectedOptions:["onSelectedOptionsChange"],isExpanded:["expandWatcher"]}}};pt.style=':host{font-family:var(--fw-font-family, -apple-system, BlinkMacSystemFont, "Segoe UI", roboto, oxygen, ubuntu, cantarell, "Open Sans", "Helvetica Neue", sans-serif);-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;-webkit-box-sizing:border-box;box-sizing:border-box}.field-control{position:relative}.field-control-label{display:block;font-size:12px;color:var(--fw-label-color, #475867);font-weight:600;-webkit-margin-after:4px;margin-block-end:4px;-webkit-padding-start:2px;padding-inline-start:2px;line-height:20px}.field-control-label.required::after{content:"*";position:relative;display:inline-block;inset-block-start:2px;font-size:14px;color:#d72d30;-webkit-padding-start:2px;padding-inline-start:2px;font-weight:700}.field-control-hint-text{font-family:-apple-system, blinkmacsystemfont, "Segoe UI", "Roboto", "Helvetica Neue", arial, sans-serif;font-size:12px;line-height:20px;-webkit-margin-before:4px;margin-block-start:4px;-webkit-margin-after:0;margin-block-end:0;color:var(--fw-hint-color, #acb6be);position:inherit;display:block;-webkit-padding-start:2px;padding-inline-start:2px;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.field-control-error-text{font-family:-apple-system, blinkmacsystemfont, "Segoe UI", "Roboto", "Helvetica Neue", arial, sans-serif;font-size:12px;line-height:20px;-webkit-margin-before:4px;margin-block-start:4px;-webkit-margin-after:0;margin-block-end:0;color:var(--fw-error-color, #d72d30);position:inherit;display:block;-webkit-padding-start:2px;padding-inline-start:2px;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.field-control-warning-text{font-family:-apple-system, blinkmacsystemfont, "Segoe UI", "Roboto", "Helvetica Neue", arial, sans-serif;font-size:12px;line-height:20px;-webkit-margin-before:4px;margin-block-start:4px;-webkit-margin-after:0;margin-block-end:0;color:var(--fw-warning-color, #f8ab59);position:inherit;display:block;-webkit-padding-start:2px;padding-inline-start:2px;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}@media screen and (prefers-reduced-motion: reduce){.input-container{-webkit-transition:none;transition:none}}:host{display:block}.button-container{display:-ms-flexbox;display:flex}.button-container fw-button{display:-ms-flexbox;display:flex;min-width:0}.button-container .display-tag{display:-ms-flexbox;display:flex;min-width:0}.input-container{width:calc(100% - 12px);border:var(--fw-select-border, 1px solid #cfd7df);border-radius:var(--fw-select-border-radius, 4px);-webkit-padding-start:10px;padding-inline-start:10px;background-color:#fff;-webkit-box-shadow:none;box-shadow:none;min-height:22px;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-webkit-transition:all 0.3s ease;transition:all 0.3s ease}.input-container .input-container-inner{display:-ms-flexbox;display:flex;-ms-flex-positive:1;flex-grow:1;-ms-flex-wrap:wrap;flex-wrap:wrap;min-width:0}.input-container .input-container-inner .tag-container{display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap;min-width:inherit;-ms-flex-positive:1;flex-grow:1;overflow-y:auto;-webkit-padding-start:2px;padding-inline-start:2px;}.input-container .input-container-inner .tag-container.avatar{min-height:40px}.input-container .input-container-inner .tag-container:active,.input-container .input-container-inner .tag-container:focus,.input-container .input-container-inner .tag-container:focus-visible{outline:0}.input-container .input-container-inner .tag-container fw-tag{-webkit-margin-start:0px;margin-inline-start:0px;-webkit-margin-after:4px;margin-block-end:4px;-webkit-margin-end:4px;margin-inline-end:4px;-webkit-margin-before:4px;margin-block-start:4px;display:-ms-flexbox;display:flex;min-width:inherit;--fw-popover-min-width:0}.input-container .input-container-inner input{-ms-flex-positive:1;flex-grow:1;width:100px;border:none;font-family:inherit;font-size:14px;font-weight:500;letter-spacing:0;line-height:1.4;background-color:#fff;min-width:20px;min-height:22px;-webkit-box-sizing:border-box;box-sizing:border-box;overflow:hidden;margin-inline:0px;margin-block:4px}.input-container .input-container-inner input:focus{border:none;outline:none}.input-container .input-container-inner input.multi-select{width:auto}.input-container .input-container-inner input:disabled{color:#92a2b1;background-color:#f5f7f9 !important;border-color:transparent;pointer-events:none}.input-container fw-spinner{-webkit-margin-end:8px;margin-inline-end:8px}.input-container:hover,.input-container:focus{border:1px #475867 solid}.input-container.error{border-color:#d72d30}.input-container.error.has-focus{-webkit-box-shadow:none;box-shadow:none;border-color:#d72d30}.input-container.error:hover,.input-container.error:focus{border-color:#d72d30}.input-container.error+.help-block{color:#d72d30}.input-container.warning{border-color:#f8ab59}.input-container.warning.has-focus{-webkit-box-shadow:none;box-shadow:none;border-color:#f8ab59}.input-container.warning:hover,.input-container.warning:focus{border-color:#f8ab59}.input-container.warning+.help-block{color:#f8ab59}.input-container.select-disabled{color:#92a2b1;border:var(--fw-select-border, 1px solid #ebeff3);background-color:#f5f7f9 !important;border-style:solid;cursor:not-allowed}.input-container.select-disabled:hover,.input-container.select-disabled:focus{border:1px solid #ebeff3}.tag-container .bold-tag{font-weight:600}.tag-container .tag-clickable{cursor:pointer;-webkit-touch-callout:none;-webkit-user-select:none;-khtml-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.tag-container .tag-disabled{cursor:not-allowed;pointer-events:none}.has-focus .input-container{outline:none;background:#fff;border:1px solid transparent;-webkit-box-shadow:0 0 0 2px #2c5cc5;box-shadow:0 0 0 2px #2c5cc5}.has-focus .input-container.error{border-color:#d72d30;-webkit-box-shadow:none;box-shadow:none}.has-focus .input-container.error.has-focus{-webkit-box-shadow:none;box-shadow:none;border-color:#d72d30}.has-focus .input-container.error:hover,.has-focus .input-container.error:focus{border-color:#d72d30}.has-focus .input-container.error+.help-block{color:#d72d30}.has-focus .input-container.warning{border-color:#f8ab59;-webkit-box-shadow:0 0 0 1px #f8ab59;box-shadow:0 0 0 1px #f8ab59}.has-focus .input-container.warning.has-focus{-webkit-box-shadow:none;box-shadow:none;border-color:#f8ab59}.has-focus .input-container.warning:hover,.has-focus .input-container.warning:focus{border-color:#f8ab59}.has-focus .input-container.warning+.help-block{color:#f8ab59}.select-container{-webkit-margin-after:var(--fw-select-margin-bottom, 0px);margin-block-end:var(--fw-select-margin-bottom, 0px);width:inherit;height:inherit;position:relative}.select-container .dropdown{z-index:99}.select-container .dropdown-status-icon{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;-webkit-margin-end:8px;margin-inline-end:8px;min-width:20px;min-height:20px;-webkit-transition:all 0.15s;transition:all 0.15s;--icon-color:$color-elephant-800}.select-container .help-block{font-size:12px;-webkit-margin-before:4px;margin-block-start:4px;line-height:20px;color:#acb6be;position:inherit;-webkit-margin-after:0;margin-block-end:0;display:block;-webkit-padding-start:2px;padding-inline-start:2px}:host(:not([dir="rtl"])) .select-container .dropdown-status-icon.expanded,:host([dir="ltr"]) .select-container .dropdown-status-icon.expanded{-webkit-transform:rotate(180deg);transform:rotate(180deg)}:host([dir="rtl"]) .select-container .dropdown-status-icon.expanded{-webkit-transform:rotate(-180deg);transform:rotate(-180deg)}.select-container .dropdown-status-icon.disabled{opacity:0.5}.select-container.error{border-color:#d72d30}.select-container.error.has-focus{-webkit-box-shadow:none;box-shadow:none;border-color:#d72d30}.select-container.error:hover,.select-container.error:focus{border-color:#d72d30}.select-container.error+.help-block{color:#d72d30}.select-container.warning{border-color:#f8ab59}.select-container.warning.has-focus{-webkit-box-shadow:none;box-shadow:none;border-color:#f8ab59}.select-container.warning:hover,.select-container.warning:focus{border-color:#f8ab59}.select-container.warning+.help-block{color:#f8ab59}::-webkit-input-placeholder{color:#92a2b1;opacity:1}::-moz-placeholder{color:#92a2b1;opacity:1}:-ms-input-placeholder{color:#92a2b1;opacity:1}::-ms-input-placeholder{color:#92a2b1;opacity:1}::placeholder{color:#92a2b1;opacity:1}::-webkit-input-placeholder{color:#92a2b1}::-moz-placeholder{color:#92a2b1}:-ms-input-placeholder{color:#92a2b1}:-moz-placeholder{color:#92a2b1}';const ut=class{constructor(e){t(this,e),this.fwSelectAttempted=i(this,"fwSelectAttempted",7),this.fwSelected=i(this,"fwSelected",7),this.fwFocus=i(this,"fwFocus",7),this.fwBlur=i(this,"fwBlur",7),this.selected=!1,this.disabled=!1,this.html=!1,this.variant="standard",this.checkbox=!1,this.hideTick=!1,this.allowDeselect=!0,this.allowSelect=!0}async setFocus(){this.rowContainer.focus()}onKeyDown(t){switch(t.key){case"Enter":this.onOptionSelected()}}onOptionSelected(){if(!this.disabled&&(!this.selected||this.allowDeselect))if(this.allowSelect){this.selected=!this.selected;const{value:t,selected:i}=this;this.fwSelected.emit({value:t,selected:i})}else{const{value:t,selected:i}=this;this.fwSelectAttempted.emit({value:t,selected:i})}}renderInnerHtml(){const t=this.createDescription(),i=this.checkbox?this.createCheckbox():"",n=this.hideTick?null:e("span",{class:"selected-icon"},this.selected&&e("fw-icon",{name:"check",size:12,color:"#2C5CC5",library:"system"}));switch(this.variant){case"standard":return e(o,null,i,t,n);case"icon":return e(o,null,i,this.createIcon(),t,n);case"avatar":return e(o,null,i,this.createAvatar(),t,n);default:return e(o,null,i,t,n)}}createDescription(){return this.subText?e("div",{class:"description "+("icon"===this.variant?"icon-margin ":"standard-margin ")},e("span",{class:"description-text"},this.text),e("span",{class:"description-subText"},this.subText)):e("span",{class:"description "+("icon"===this.variant?"icon-margin ":"standard-margin ")},this.text)}createIcon(){return e("fw-icon",Object.assign({},this.graphicsProps))}createCheckbox(){return e("div",{class:"checkbox-wrapper",key:`${this.host.id}-${this.selected}`},e("fw-checkbox",{checked:this.selected,disabled:this.disabled}))}createAvatar(){return e("fw-avatar",Object.assign({size:"small"},this.graphicsProps))}render(){return e("div",{role:"option",tabindex:"-1","aria-selected":this.selected,ref:t=>this.rowContainer=t,class:"select-option "+(this.selected&&!this.checkbox?"selected ":"")+(this.disabled?"disabled ":"")+(this.html?"":(this.subText?"multi-line ":"single-line ")+this.variant+" select-center")+(this.checkbox?" has-checkbox":""),onMouseDown:()=>this.onOptionSelected(),onFocus:()=>this.fwFocus.emit({id:this.host.id}),onBlur:t=>this.fwBlur.emit(t)},this.html?"":this.text?this.renderInnerHtml():e("slot",null))}componentDidLoad(){this.html&&(this.rowContainer.innerHTML=this.htmlContent)}get host(){return s(this)}};ut.style=':host{font-family:var(--fw-font-family, -apple-system, BlinkMacSystemFont, "Segoe UI", roboto, oxygen, ubuntu, cantarell, "Open Sans", "Helvetica Neue", sans-serif);-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;-webkit-box-sizing:border-box;box-sizing:border-box}.select-center{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}.select-option{cursor:pointer;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;color:#12344d;font-size:14px;border-radius:4px;list-style:none;line-height:20px;word-break:break-word;word-wrap:break-word;position:relative;-webkit-margin-after:4px;margin-block-end:4px;-webkit-padding-end:8px;padding-inline-end:8px;}.select-option.single-line{padding-block:6px}.select-option.multi-line{padding-block:8px}.select-option.standard{-webkit-padding-start:0px;padding-inline-start:0px}.select-option.standard.has-checkbox{-webkit-padding-start:10px;padding-inline-start:10px}.select-option.icon{-webkit-padding-start:10px;padding-inline-start:10px}.select-option.avatar{-webkit-padding-start:4px;padding-inline-start:4px}.select-option.selected{font-weight:600;background-color:#e5f2fd}.select-option.selected:hover,.select-option.selected:focus{background-color:#e5f2fd}.select-option:hover{background-color:#ebeff3}.select-option:focus{background-color:#ebeff3;outline:none}.select-option.disabled{color:#92a2b1;position:relative;cursor:not-allowed;background-color:#f5f7f9}.select-option .description{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column}.select-option .description-text{font-weight:600}.select-option .description-subText{font-weight:400;font-size:12px;color:#475867}.select-option .description.icon-margin{-webkit-margin-start:18px;margin-inline-start:18px}.select-option .description.standard-margin{-webkit-margin-start:12px;margin-inline-start:12px}.select-option .selected-icon{min-width:20px;min-height:20px;-webkit-margin-start:auto;margin-inline-start:auto;display:-ms-flexbox;display:flex;-ms-flex-pack:center;justify-content:center;-ms-flex-align:center;align-items:center}.select-option .checkbox-wrapper{min-width:22px;min-height:22px}.select-option fw-icon{-ms-flex-align:center;align-items:center;display:-ms-flexbox;display:flex}';const wt=class{constructor(e){t(this,e),this.fwClosed=i(this,"fwClosed",7),this.disabled=!1,this.variant="standard",this.graphicsProps={},this.closable=!0,this.focusable=!0,this.state="normal",this.isFocused=!1,this.index="-1",this.showEllipsisOnOverflow=!1,this.addTooltip=!1,this.removeTag=t=>{if(this.disabled||!this.closable)return;const{value:i,text:e,index:n}=this;this.fwClosed.emit({value:i,text:e,index:n}),t.stopPropagation()},this.componentDidRender=()=>{const t=this.divLabel;t&&!this.resizeObserver&&(this.resizeObserver=new ResizeObserver((()=>{t.offsetWidth>0&&(this.addTooltip=t.offsetWidth<t.scrollWidth)})),this.resizeObserver.observe(t))},this.removeResizeObserver=()=>{this.resizeObserver&&(this.resizeObserver.disconnect(),this.resizeObserver=null)}}onKeyDown(t){switch(t.key){case"Backspace":this.removeTag(t),t.preventDefault()}}async setFocus(){this.tagContainer.focus()}renderText(){return[e("span",{class:{primary:!!this.subText,content:!0,"end-padding":!this.subText&&!this.closable}},this.text),this.subText&&e("span",{class:"secondary content "+(this.closable?"":"end-padding")},this.subText)]}renderLabel(){return e("div",{class:"ellipsis",ref:t=>this.divLabel=t},this.renderText())}renderTruncatedContent(){return e("div",{class:"truncated-content"},this.addTooltip?e("fw-tooltip",{trigger:"hover",content:`${this.text}${this.subText?` ${this.subText}`:""}`,hoist:!0},this.renderLabel()):this.renderLabel())}renderContent(){switch(this.variant){case"standard":return this.showEllipsisOnOverflow?this.renderTruncatedContent():this.renderText();case"avatar":return[e("fw-avatar",Object.assign({mode:"error"===this.state?this.state:"dark",size:"xsmall"},this.graphicsProps)),this.showEllipsisOnOverflow?this.renderTruncatedContent():this.renderText()]}}disconnectedCallback(){this.removeResizeObserver()}render(){return e("div",{role:"button",tabindex:"-1",class:`tag ${this.isFocused?"focused":""} ${this.state} tag-${this.variant} ${this.disabled?"disabled":""} ${this.showEllipsisOnOverflow?"tag-with-ellipsis":""}`,ref:t=>this.tagContainer=t},this.renderContent(),this.closable&&e("span",{role:"button",tabIndex:this.focusable?0:-1,class:`remove-btn ${this.variant} ${this.disabled?"disabled":""}`,onClick:t=>this.removeTag(t),onKeyDown:f(this.removeTag)},e("fw-icon",{name:"cross",size:8,library:"system"})))}get host(){return s(this)}};wt.style=':host{font-family:var(--fw-font-family, -apple-system, BlinkMacSystemFont, "Segoe UI", roboto, oxygen, ubuntu, cantarell, "Open Sans", "Helvetica Neue", sans-serif);-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;-webkit-box-sizing:border-box;box-sizing:border-box}.tag{min-width:inherit;display:-ms-inline-flexbox;display:inline-flex;-ms-flex-align:center;align-items:center;color:#12344d;font-size:12px;word-break:break-all}.tag:hover{outline:1px solid #b1bdc8}.tag:focus{outline:2px solid #2c5cc5}.tag.disabled{outline:0px !important}.tag.focused{outline:2px solid #2c5cc5 !important}.tag.transparent{outline:none !important;background:transparent !important}.tag.tag-with-ellipsis{display:-ms-flexbox;display:flex;min-width:0}.tag.error{outline:1px solid #c82124;background:#ffecf0 !important}.tag.error:hover{background:#ffd0d6 !important}.tag.error:focus{outline:2px solid #2c5cc5}.tag .content{line-height:20px;vertical-align:middle}.tag .ellipsis{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.tag .truncated-content{min-width:inherit}.tag .end-padding{-webkit-padding-end:8px;padding-inline-end:8px}.tag .primary{font-weight:600}.tag .secondary{-webkit-padding-start:8px;padding-inline-start:8px;font-weight:400 !important}.tag-standard{-webkit-padding-start:8px;padding-inline-start:8px;-webkit-padding-after:2px;padding-block-end:2px;-webkit-padding-end:2px;padding-inline-end:2px;-webkit-padding-before:2px;padding-block-start:2px;border-radius:4px;font-weight:600;background-color:#ebeff3}.tag-avatar{padding:4px;border-radius:24px}:host(:not([dir="rtl"])) .tag-avatar,:host([dir="ltr"]) .tag-avatar{background:-webkit-gradient(linear, left top, left bottom, color-stop(2.56%, #f5f7f9), color-stop(95.75%, #f3f5f7));background:linear-gradient(180deg, #f5f7f9 2.56%, #f3f5f7 95.75%)}:host([dir="rtl"]) .tag-avatar{background:-webkit-gradient(linear, left top, left bottom, color-stop(2.56%, #f5f7f9), color-stop(95.75%, #f3f5f7));background:linear-gradient(-180deg, #f5f7f9 2.56%, #f3f5f7 95.75%)}.tag-avatar fw-avatar{-webkit-margin-end:8px;margin-inline-end:8px}.tag .remove-btn{-webkit-margin-start:8px;margin-inline-start:8px;display:-ms-inline-flexbox;display:inline-flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;color:#264966;font-size:16px}.tag .remove-btn.standard{min-height:20px;min-width:20px;border-radius:4px}.tag .remove-btn.avatar{min-height:24px;min-width:24px;border-radius:16px}.tag .remove-btn.avatar:hover,.tag .remove-btn.avatar:focus{background-color:#fff;cursor:pointer}.tag .remove-btn:hover,.tag .remove-btn:focus{background-color:#cfd7df;cursor:pointer}.tag .remove-btn.disabled{color:#447093;background-color:#ebeff3;cursor:not-allowed}';export{w as fw_button,g as fw_list_options,pt as fw_select,ut as fw_select_option,wt as fw_tag}