var __spreadArray=this&&this.__spreadArray||function(e,i,l){if(l||arguments.length===2)for(var a=0,r=i.length,d;a<r;a++){if(d||!(a in i)){if(!d)d=Array.prototype.slice.call(i,0,a);d[a]=i[a]}}return e.concat(d||Array.prototype.slice.call(i))};System.register(["./p-07a9c0ce.system.js"],(function(e){"use strict";var i;return{setters:[function(e){i=e.T}],execute:function(){e({a:m,b:f,c:u,d:n,e:M,f:t,g:p,h:b,i:d,j:o,l:s,m:P,n:y,o:O,p:q,q:I,r:T,s:L,t:g,u:D,v:C,w:c,x:F,y:h});var l={mappedFieldTypes:{PRIMARY:"TEXT",TEXT:"TEXT",RELATIONSHIP:"RELATIONSHIP",PARAGRAPH:"PARAGRAPH",NUMBER:"NUMBER",DECIMAL:"DECIMAL",DATE:"DATE",DROPDOWN:"DROPDOWN",CHECKBOX:"CHECKBOX",MULTI_SELECT:"MULTI_SELECT"},fieldOrder:["PRIMARY","RELATIONSHIP","TEXT","PARAGRAPH","NUMBER","DECIMAL","DATE","DROPDOWN","CHECKBOX","MULTI_SELECT"],fieldProps:{PRIMARY:{display_label:"fieldTypeText",checkboxes:[{key:"required",tag:"fieldRequiredTag",display_label:"fieldRequired",enabled:true,selected:false},{key:"unique",tag:"fieldUniqueTag",display_label:"fieldUnique",info:"fieldUniqueHoverText",enabled:true,selected:false},{key:"filterable",tag:"fieldFilterTag",display_label:"fieldFilter",info:"fieldFilterHoverText",enabled:true,selected:true}]},RELATIONSHIP:{display_label:"fieldTypeRelationship",description:"fieldTypeRelationshipDesc",link:{label:"fieldTypeRelationshipDescLinkLabel",href:"https://support.freshdesk.com/en/support/solutions/articles/50000004226-understanding-associations"},has_bottom_border:true,checkboxes:[{key:"required",tag:"fieldRequiredTag",display_label:"fieldRequired",enabled:true,selected:false},{key:"filterable",tag:"fieldFilterTag",display_label:"fieldFilter",info:"fieldFilterHoverText",enabled:false,selected:true}]},TEXT:{display_label:"fieldTypeText",checkboxes:[{key:"required",tag:"fieldRequiredTag",display_label:"fieldRequired",enabled:true,selected:false},{key:"filterable",tag:"fieldFilterTag",display_label:"fieldFilter",info:"fieldFilterHoverText",enabled:true,selected:true}]},PARAGRAPH:{display_label:"fieldTypeParagraph",checkboxes:[{key:"required",tag:"fieldRequiredTag",display_label:"fieldRequired",enabled:true,selected:false}]},NUMBER:{display_label:"fieldTypeNumber",checkboxes:[{key:"required",tag:"fieldRequiredTag",display_label:"fieldRequired",enabled:true,selected:false},{key:"filterable",tag:"fieldFilterTag",display_label:"fieldFilter",info:"fieldFilterHoverText",enabled:true,selected:true}]},DECIMAL:{display_label:"fieldTypeDecimal",checkboxes:[{key:"required",tag:"fieldRequiredTag",display_label:"fieldRequired",enabled:true,selected:false}]},DATE:{display_label:"fieldTypeDate",checkboxes:[{key:"required",tag:"fieldRequiredTag",display_label:"fieldRequired",enabled:true,selected:false},{key:"filterable",tag:"fieldFilterTag",display_label:"fieldFilter",info:"fieldFilterHoverText",enabled:true,selected:true}]},DROPDOWN:{display_label:"fieldTypeDropdown",checkboxes:[{key:"required",tag:"fieldRequiredTag",display_label:"fieldRequired",enabled:true,selected:false},{key:"filterable",tag:"fieldFilterTag",display_label:"fieldFilter",info:"fieldFilterHoverText",enabled:true,selected:true}]},CHECKBOX:{display_label:"fieldTypeCheckbox",checkboxes:[{key:"required",tag:"fieldRequiredTag",display_label:"fieldRequired",enabled:true,selected:false},{key:"filterable",tag:"fieldFilterTag",display_label:"fieldFilter",info:"fieldFilterHoverText",enabled:true,selected:false}]},MULTI_SELECT:{display_label:"fieldTypeMultiselect",checkboxes:[{key:"required",tag:"fieldRequiredTag",display_label:"fieldRequired",enabled:true,selected:false},{key:"filterable",tag:"fieldFilterTag",display_label:"fieldFilter",info:"fieldFilterHoverText",enabled:true,selected:true}]}},config:{hasPrimary:true,customizeWidget:true,filterByType:false,editInternalName:false,internalNamePrefix:"",showDefaultTag:false,showDeleteModalInlineMessage:false,showFieldLabelInDeleteModalTitle:true,defaultTagKey:"",defaultTagLabel:"",dropdownFieldWithoutChoicesKey:"",freePlanFieldAddDisabledHeader:"",freePlanFieldAddDisabledMessage:"",freePlanFieldAddDisabledButton:"",noCreatePermissionFieldAddDisabledHeader:"",noCreatePermissionFieldAddDisabledMessage:"",boolShowRelationshipTypeSelect:true,boolShowCustomToggle:false,showCustomToggleField:""},labels:{headerProduct:"",subHeaderProduct:"",dragDropFieldTypes:"fieldTypesDragDrop",fieldTypesHeader:"headerFieldTypes",fieldsHeader:"headerFields",deleteFieldModalHeader:"deleteFieldTitle",deleteFieldModalMessage:"deleteFieldMessage"},maximumLimits:{widgets:{count:5,message:""},fields:{count:100,message:"maximumLimits.fields"},filterable:{count:25,message:"maximumLimits.filterable"},unique:{count:6,message:"maximumLimits.unique"},RELATIONSHIP:{count:5,message:"maximumLimits.lookups"},NUMBER:{count:30,message:"maximumLimits.fields"},CHECKBOX:{count:30,message:"maximumLimits.fields"},DECIMAL:{count:20,message:"maximumLimits.fields"},MULTI_SELECT:{count:20,message:"maximumLimits.fields"},DATE:{count:30,message:"maximumLimits.fields"},TEXT:{count:80,message:"maximumLimits.fields"},PARAGRAPH:{count:10,message:"maximumLimits.fields"},DROPDOWN:{count:30,message:"maximumLimits.fields"},maxLabelChars:{count:255,message:"maximumLimits.maxCharsWarning"},maxInternalNameChars:{count:50,message:"maximumLimits.maxCharsWarning"},maxDropdownChoices:{count:2e3,message:"maximumLimits.maxChoiceOptionsWarning"}}};var a={mappedFieldTypes:{TEXT:1,PARAGRAPH:6,NUMBER:8,DECIMAL:13,DATE:17,DROPDOWN:2,CHECKBOX:5,MULTI_SELECT:18,RELATIONSHIP:16,DEPENDENT_FIELD:22},reverseMappedFieldTypes:{1:"TEXT",2:"DROPDOWN",5:"CHECKBOX",6:"PARAGRAPH",8:"NUMBER",13:"DECIMAL",16:"RELATIONSHIP",17:"DATE",18:"MULTI_SELECT",22:"DEPENDENT_FIELD"},fieldOrder:["TEXT","PARAGRAPH","NUMBER","DECIMAL","DATE","DROPDOWN","DEPENDENT_FIELD","CHECKBOX","MULTI_SELECT","RELATIONSHIP"],fieldProps:{TEXT:{display_label:"fieldTypeSingleLineText",checkboxes:[{key:"required",tag:"fieldRequiredTag",display_label:"fieldRequiredResolveConv",enabled:true,selected:false}]},PARAGRAPH:{display_label:"fieldTypeMultiLineText",checkboxes:[{key:"required",tag:"fieldRequiredTag",display_label:"fieldRequired",enabled:true,selected:false}]},NUMBER:{display_label:"fieldTypeNumber",checkboxes:[{key:"required",tag:"fieldRequiredTag",display_label:"fieldRequiredResolveConv",enabled:true,selected:false}]},DECIMAL:{display_label:"fieldTypeDecimal",checkboxes:[{key:"required",tag:"fieldRequiredTag",display_label:"fieldRequiredResolveConv",enabled:true,selected:false}]},DATE:{display_label:"fieldTypeDate",checkboxes:[{key:"required",tag:"fieldRequiredTag",display_label:"fieldRequiredResolveConv",enabled:true,selected:false}]},DROPDOWN:{display_label:"fieldTypeDropdown",checkboxes:[{key:"required",tag:"fieldRequiredTag",display_label:"fieldRequiredResolveConv",enabled:true,selected:false}]},DEPENDENT_FIELD:{display_label:"fieldTypeDependent",checkboxes:[{key:"required",tag:"fieldRequiredTag",display_label:"fieldRequiredResolveConv",enabled:true,selected:false}]},CHECKBOX:{display_label:"fieldTypeCheckbox",checkboxes:[{key:"required",tag:"fieldRequiredTag",display_label:"fieldRequiredResolveConv",enabled:true,selected:false}]},MULTI_SELECT:{display_label:"fieldTypeMultiSelectDropdown",checkboxes:[{key:"required",tag:"fieldRequiredTag",display_label:"fieldRequiredResolveConv",enabled:true,selected:false}]},RELATIONSHIP:{display_label:"fieldTypeLookupField",has_bottom_border:true,checkboxes:[{key:"required",tag:"fieldRequiredTag",display_label:"fieldRequired",enabled:true,selected:false}]}},config:{hasPrimary:false,customizeWidget:false,filterByType:false,editInternalName:true,internalNamePrefix:"cf_",showDefaultTag:true,showDeleteModalInlineMessage:true,showFieldLabelInDeleteModalTitle:false,defaultTagKey:"custom",defaultTagLabel:"nonCustomDefaultFieldTag",dropdownFieldWithoutChoicesKey:"field_options.reference",freePlanFieldAddDisabledHeader:"freePlanFieldAddDisabledHeader",freePlanFieldAddDisabledMessage:"freePlanFieldAddDisabledMessage",freePlanFieldAddDisabledButton:"freePlanFieldAddDisabledButton",noCreatePermissionFieldAddDisabledHeader:"noCreatePermissionFieldAddDisabledHeader",noCreatePermissionFieldAddDisabledMessage:"noCreatePermissionFieldAddDisabledMessage",boolShowRelationshipTypeSelect:false,boolShowCustomToggle:true,showCustomToggleField:"status"},labels:{headerProduct:"headerProductConvProps",subHeaderProduct:"subHeaderProductConvProps",dragDropFieldTypes:"fieldTypesDragDropConvProps",fieldTypesHeader:"",fieldsHeader:"headerProperties",subHeaderProductLink:{label:"subHeaderProductConvPropsLinkLabel",href:"https://crmsupport.freshworks.com/en/support/solutions/articles/50000005665?cloud=freshchat"},deleteFieldModalHeader:"deleteFieldTitleConversationProp",deleteFieldModalMessage:"deleteFieldMessageConversationProp"},maximumLimits:{widgets:{count:0,message:""},fields:{count:50,message:"maximumLimits.fields"},filterable:{count:0,message:""},unique:{count:0,message:""},NUMBER:{count:20,message:"maximumLimits.fields"},CHECKBOX:{count:30,message:"maximumLimits.fields"},DECIMAL:{count:10,message:"maximumLimits.fields"},MULTI_SELECT:{count:10,message:"maximumLimits.fields"},DATE:{count:30,message:"maximumLimits.fields"},TEXT:{count:50,message:"maximumLimits.fields"},PARAGRAPH:{count:10,message:"maximumLimits.fields"},DROPDOWN:{count:50,message:"maximumLimits.fields"},maxLabelChars:{count:255,message:"maximumLimits.maxCharsWarning"},maxInternalNameChars:{count:47,message:"maximumLimits.maxCharsWarning"},maxDropdownChoices:{count:2e3,message:"maximumLimits.maxChoiceOptionsWarning"},RELATIONSHIP:{count:5,message:"maximumLimits.lookups"},DEPENDENT_FIELD:{count:5e3,message:"maximumLimits.fields"}}};var r=e("k",{CUSTOM_OBJECTS:l,CONVERSATION_PROPERTIES:a});function d(e,l){if(l===void 0){l={}}try{if(e&&l){return i.t("formBuilder.".concat(e),l)}else if(e){return i.t("formBuilder.".concat(e))}}catch(a){console.warn("unable to translate ".concat(e," : "),a)}return""}function t(e,i){if(i&&i!==""&&e&&Object.prototype.hasOwnProperty.call(e,i)){return true}return false}function s(e,i){try{if(!i){return""}return i===null||i===void 0?void 0:i.split(".").reduce((function(e,i){return e?e[i]:undefined}),e)}catch(l){console.error("Error occurred in getNestedKeyValueFromObject: ".concat(l))}return""}function n(e){try{return JSON.parse(JSON.stringify(e))}catch(i){console.log("error deep cloning object - "+i);return{}}}function u(e,i,l,a){if(i===void 0){i="CUSTOM_OBJECTS"}if(l===void 0){l=-1}if(a===void 0){a=true}try{if(i&&i!=="CUSTOM_OBJECTS"){var d=r[i];if(t(d,"config")&&t(d.config,"hasPrimary")&&!d.config.hasPrimary){return false}}if(t(e,"type")&&e.type==="PRIMARY"){return true}if(a&&l===0){return true}}catch(s){console.error("Error occurred in isPrimaryFieldType: ".concat(s))}return false}function o(e){try{var i=null;if(t(e,"field_options")&&t(e.field_options,"unique")){i=e.field_options.unique;if(i&&(i===true||i==="true")){return true}}}catch(l){}return false}function f(e){if(e===void 0){e="CUSTOM_OBJECTS"}try{var i=r[e]["maximumLimits"];return i}catch(l){}return null}function c(e,i){if(e===void 0){e="CUSTOM_OBJECTS"}if(i&&i!==""){try{var l=f(e);var a=l===null||l===void 0?void 0:l[i];return a}catch(r){return null}}return null}function m(e,i){if(e===void 0){e="CUSTOM_OBJECTS"}if(e==="CUSTOM_OBJECTS"){return i}try{var l=r[e];if(t(l,"mappedFieldTypes")){var a=l["mappedFieldTypes"][i.toString()];return a}}catch(d){}return i}function p(e,i){if(e===void 0){e="CUSTOM_OBJECTS"}try{var l=r[e].fieldProps[i.toString()].checkboxes;if(l&&l.length>0){return n(l)}}catch(a){}return null}function g(e){var i=/[^a-z0-9_]/gi;var l=e&&e.toLowerCase().trim()||"";l=l.replace(/\s+/g,"_").replace(i,"");l=!/^(_+)$/g.test(l)?l:"";return l}function T(e,i){try{if(e&&e!==""&&i&&i!==""){var l=e.indexOf(i);if(l===-1){return e}return e.slice(0,l)+e.slice(l+i.length)}}catch(a){return e}return e}function b(e,i,l,a){if(a===void 0){a=false}if(i){if(e==="trial"&&l==="EDIT"&&a){return true}else if(e==="trial"||!i.view){return false}else{switch(l){case"CREATE":if(t(i,"create")&&i.create){return true}break;case"EDIT":if(t(i,"edit")&&i.edit){return true}break;case"DELETE":if(t(i,"delete")&&i.delete){return true}break}}}return false}function h(){var e=(new Date).getTime();var i="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(i){var l=(e+Math.random()*16)%16|0;e=Math.floor(e/16);return(i==="x"?l:l&3|8).toString(16)}));return i}function y(e,i){if(e===void 0){e="CUSTOM_OBJECTS"}var l,a;var d=r[e];return((l=d===null||d===void 0?void 0:d.config)===null||l===void 0?void 0:l.boolShowCustomToggle)&&i===((a=d===null||d===void 0?void 0:d.config)===null||a===void 0?void 0:a.showCustomToggleField)}function v(e,i){var l=parseInt(i,10);function a(e,i){if(i===l){return e[0]}if(e&&e[0]&&e[0].fields){return a(e[0].fields,i+1)}return null}return a(e.fields,1)}var E=function(e,i){return e.find((function(e){return e.value===i}))};var x=function(e,i){if(e===void 0){e=[]}if(i===void 0){i=[]}return e.filter((function(e){return i.includes(e.id)}))};var _=function(e,i){return e.find((function(e){return e.id===i}))};var R=function(e,i){return e.findIndex((function(e){return e===i}))};function C(e,i,l,a){var r;if(!a){return{}}var d=e["level_".concat(a)];var t=l.length?l:i.map((function(e){return e.id}));if(d&&t.includes(d)){return e}return Object.assign((r={},r["level_".concat(a)]=t[0],r),e)}function D(e,i,l){var a=l.label,r=a===void 0?null:a,d=l.internalName,t=d===void 0?null:d,s=l.name,n=s===void 0?null:s,u=l.choices,o=u===void 0?null:u;if(!i){var f=Object.assign({},e);r&&(f.label=r);n&&(f.name=n);return f}var c=v(e,i);if(c){r&&(c["label"]=r);n&&(c["name"]=n);t&&(c["internalName"]=t);o&&o.length&&(c["choices"]=o)}return Object.assign(Object.assign({},e),{fields:e.fields})}function L(e,i){var l=e.split("\n");var a=i.fields[0];var r=null;var d=null;l.forEach((function(e){var i=e.trim().replace(/\t/g,"");if(i&&length){if(!e.startsWith("\t")){if(!E(a.choices,i)){r={id:h(),value:i,dependent_ids:{field:[],choice:[]}};a.choices.push(r)}}else if(e.startsWith("\t")&&!e.startsWith("\t\t")){if(r&&!E(a.fields[0].choices,i)){d={id:h(),value:i,dependent_ids:{field:[],choice:[]}};var l=a.fields[0];if(!l.id){l.id=h()}r.dependent_ids.choice.push(d.id);if(!r.dependent_ids.field.length){r.dependent_ids.field.push(l.id)}l.choices.push(d)}}else{if(d&&!E(a.fields[0].fields[0].choices,i)){var l=a.fields[0].fields[0];if(!l.id){l.id=h()}var t={id:h(),value:i,dependent_ids:{choice:[],field:[]}};d.dependent_ids.choice.push(t.id);if(!d.dependent_ids.field.length){d.dependent_ids.field.push(l.id)}a.fields[0].fields[0].choices.push(t)}}}}));return Object.assign(Object.assign({},i),{fields:[a]})}function P(e){var i=new Set;for(var l=0;l<e.length;l++){if(e[l]&&i.has(e[l])){return true}i.add(e[l])}return false}function O(e,i){var l;if(!e.isDependentField){return}var a=e.dependentLevels;var r=n(a);Object.keys(a).forEach((function(e){if(Number(T(e,"level_"))>i.detail.level){delete r[e]}}));return Object.assign(Object.assign({},r),(l={},l["level_".concat(i.detail.level)]=i.detail.id,l))}function A(e,i,l){if(!i||!e||!e.length){return null}var a=_(e,l["level_".concat(i)]);if(a){return a.id}return e[0].id}function F(e,i,l,a){if(!l||!i||!i.length){return{choices:e.choices,ids:[],pid:null}}var r=A(i,l,a);var d=_(i,r);var t=x(e.choices,d.dependent_ids.choice);return{ids:d.dependent_ids.choice,choices:t,pId:r}}function q(e,i){var l=e.fieldBuilderOptions;var a=i.detail,r=a.level,d=a.parentId,t=a.value,s=a.choice;var n=v(l,r);n.choices=t;if(d){var u=parseInt(r,10)-1;var o=v(l,u);var f=_(o.choices,d);f.dependent_ids.choice.push(s.id)}return Object.assign(Object.assign({},l),{fields:l.fields})}function I(e,i){var l,a;var r=e.fieldBuilderOptions;var d=i.detail,t=d.level,s=d.parentId,u=d.choice;if(s){var o=parseInt(t,10)-1;var f=v(r,o);var c=_(f.choices,s);var m=R(c.dependent_ids.choice,u.id);if(m>-1){c.dependent_ids.choice=__spreadArray(__spreadArray([],c.dependent_ids.choice.slice(0,m),true),c.dependent_ids.choice.slice(m+1),true)}}var p=((a=(l=u.dependent_ids)===null||l===void 0?void 0:l.choice)===null||a===void 0?void 0:a.length)?u.dependent_ids.choice:[];var g=v(r,t);g.choices=n(g.choices.filter((function(e){return e.id!==u.id})));var T=function(e,i){var l=parseInt(i,10)+1;var a=v(r,l);var d=[];if(a){a.choices=n(a.choices.filter((function(i){if(e.includes(i.id)){d.push.apply(d,i.dependent_ids.choice);return false}return true})))}d.length&&T(d,l)};p.length&&T(p,t);return Object.assign(Object.assign({},r),{fields:r.fields})}function M(e,i){var l=n(e);function a(e){e.name=T(e.name,i);e.label=e.label||"";if(t(e,"fields")&&e.fields.length){a(e.fields[0])}}a(l.fields[0]);return Object.assign(Object.assign({},l),{fields:l.fields})}}}}));