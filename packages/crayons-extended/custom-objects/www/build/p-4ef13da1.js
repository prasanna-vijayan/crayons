import{T as e}from"./p-c3aeca37.js";const i={CUSTOM_OBJECTS:{mappedFieldTypes:{PRIMARY:"TEXT",TEXT:"TEXT",RELATIONSHIP:"RELATIONSHIP",PARAGRAPH:"PARAGRAPH",NUMBER:"NUMBER",DECIMAL:"DECIMAL",DATE:"DATE",DROPDOWN:"DROPDOWN",CHECKBOX:"CHECKBOX",MULTI_SELECT:"MULTI_SELECT"},fieldOrder:["PRIMARY","RELATIONSHIP","TEXT","PARAGRAPH","NUMBER","DECIMAL","DATE","DROPDOWN","CHECKBOX","MULTI_SELECT"],fieldProps:{PRIMARY:{display_label:"fieldTypeText",checkboxes:[{key:"required",tag:"fieldRequiredTag",display_label:"fieldRequired",enabled:!0,selected:!1},{key:"unique",tag:"fieldUniqueTag",display_label:"fieldUnique",info:"fieldUniqueHoverText",enabled:!0,selected:!1},{key:"filterable",tag:"fieldFilterTag",display_label:"fieldFilter",info:"fieldFilterHoverText",enabled:!0,selected:!0}]},RELATIONSHIP:{display_label:"fieldTypeRelationship",description:"fieldTypeRelationshipDesc",link:{label:"fieldTypeRelationshipDescLinkLabel",href:"https://support.freshdesk.com/en/support/solutions/articles/50000004226-understanding-associations"},has_bottom_border:!0,checkboxes:[{key:"required",tag:"fieldRequiredTag",display_label:"fieldRequired",enabled:!0,selected:!1},{key:"filterable",tag:"fieldFilterTag",display_label:"fieldFilter",info:"fieldFilterHoverText",enabled:!1,selected:!0}]},TEXT:{display_label:"fieldTypeText",checkboxes:[{key:"required",tag:"fieldRequiredTag",display_label:"fieldRequired",enabled:!0,selected:!1},{key:"filterable",tag:"fieldFilterTag",display_label:"fieldFilter",info:"fieldFilterHoverText",enabled:!0,selected:!0}]},PARAGRAPH:{display_label:"fieldTypeParagraph",checkboxes:[{key:"required",tag:"fieldRequiredTag",display_label:"fieldRequired",enabled:!0,selected:!1}]},NUMBER:{display_label:"fieldTypeNumber",checkboxes:[{key:"required",tag:"fieldRequiredTag",display_label:"fieldRequired",enabled:!0,selected:!1},{key:"filterable",tag:"fieldFilterTag",display_label:"fieldFilter",info:"fieldFilterHoverText",enabled:!0,selected:!0}]},DECIMAL:{display_label:"fieldTypeDecimal",checkboxes:[{key:"required",tag:"fieldRequiredTag",display_label:"fieldRequired",enabled:!0,selected:!1}]},DATE:{display_label:"fieldTypeDate",checkboxes:[{key:"required",tag:"fieldRequiredTag",display_label:"fieldRequired",enabled:!0,selected:!1},{key:"filterable",tag:"fieldFilterTag",display_label:"fieldFilter",info:"fieldFilterHoverText",enabled:!0,selected:!0}]},DROPDOWN:{display_label:"fieldTypeDropdown",checkboxes:[{key:"required",tag:"fieldRequiredTag",display_label:"fieldRequired",enabled:!0,selected:!1},{key:"filterable",tag:"fieldFilterTag",display_label:"fieldFilter",info:"fieldFilterHoverText",enabled:!0,selected:!0}]},CHECKBOX:{display_label:"fieldTypeCheckbox",checkboxes:[{key:"required",tag:"fieldRequiredTag",display_label:"fieldRequired",enabled:!0,selected:!1},{key:"filterable",tag:"fieldFilterTag",display_label:"fieldFilter",info:"fieldFilterHoverText",enabled:!0,selected:!1}]},MULTI_SELECT:{display_label:"fieldTypeMultiselect",checkboxes:[{key:"required",tag:"fieldRequiredTag",display_label:"fieldRequired",enabled:!0,selected:!1},{key:"filterable",tag:"fieldFilterTag",display_label:"fieldFilter",info:"fieldFilterHoverText",enabled:!0,selected:!0}]}},config:{hasPrimary:!0,customizeWidget:!0,filterByType:!1,editInternalName:!1,internalNamePrefix:"",showDefaultTag:!1,showDeleteModalInlineMessage:!1,showFieldLabelInDeleteModalTitle:!0,defaultTagKey:"",defaultTagLabel:"",dropdownFieldWithoutChoicesKey:"",freePlanFieldAddDisabledHeader:"",freePlanFieldAddDisabledMessage:"",freePlanFieldAddDisabledButton:"",noCreatePermissionFieldAddDisabledHeader:"",noCreatePermissionFieldAddDisabledMessage:"",boolShowRelationshipTypeSelect:!0,boolShowCustomToggle:!1,showCustomToggleField:""},labels:{headerProduct:"",subHeaderProduct:"",dragDropFieldTypes:"fieldTypesDragDrop",fieldTypesHeader:"headerFieldTypes",fieldsHeader:"headerFields",deleteFieldModalHeader:"deleteFieldTitle",deleteFieldModalMessage:"deleteFieldMessage"},maximumLimits:{widgets:{count:5,message:""},fields:{count:100,message:"maximumLimits.fields"},filterable:{count:25,message:"maximumLimits.filterable"},unique:{count:6,message:"maximumLimits.unique"},RELATIONSHIP:{count:5,message:"maximumLimits.lookups"},NUMBER:{count:30,message:"maximumLimits.fields"},CHECKBOX:{count:30,message:"maximumLimits.fields"},DECIMAL:{count:20,message:"maximumLimits.fields"},MULTI_SELECT:{count:20,message:"maximumLimits.fields"},DATE:{count:30,message:"maximumLimits.fields"},TEXT:{count:80,message:"maximumLimits.fields"},PARAGRAPH:{count:10,message:"maximumLimits.fields"},DROPDOWN:{count:30,message:"maximumLimits.fields"},maxLabelChars:{count:255,message:"maximumLimits.maxCharsWarning"},maxInternalNameChars:{count:50,message:"maximumLimits.maxCharsWarning"},maxDropdownChoices:{count:2e3,message:"maximumLimits.maxChoiceOptionsWarning"}}},CONVERSATION_PROPERTIES:{mappedFieldTypes:{TEXT:1,PARAGRAPH:6,NUMBER:8,DECIMAL:13,DATE:17,DROPDOWN:2,CHECKBOX:5,MULTI_SELECT:18,RELATIONSHIP:16,DEPENDENT_FIELD:22},reverseMappedFieldTypes:{1:"TEXT",2:"DROPDOWN",5:"CHECKBOX",6:"PARAGRAPH",8:"NUMBER",13:"DECIMAL",16:"RELATIONSHIP",17:"DATE",18:"MULTI_SELECT",22:"DEPENDENT_FIELD"},fieldOrder:["TEXT","PARAGRAPH","NUMBER","DECIMAL","DATE","DROPDOWN","DEPENDENT_FIELD","CHECKBOX","MULTI_SELECT","RELATIONSHIP"],fieldProps:{TEXT:{display_label:"fieldTypeSingleLineText",checkboxes:[{key:"required",tag:"fieldRequiredTag",display_label:"fieldRequiredResolveConv",enabled:!0,selected:!1}]},PARAGRAPH:{display_label:"fieldTypeMultiLineText",checkboxes:[{key:"required",tag:"fieldRequiredTag",display_label:"fieldRequired",enabled:!0,selected:!1}]},NUMBER:{display_label:"fieldTypeNumber",checkboxes:[{key:"required",tag:"fieldRequiredTag",display_label:"fieldRequiredResolveConv",enabled:!0,selected:!1}]},DECIMAL:{display_label:"fieldTypeDecimal",checkboxes:[{key:"required",tag:"fieldRequiredTag",display_label:"fieldRequiredResolveConv",enabled:!0,selected:!1}]},DATE:{display_label:"fieldTypeDate",checkboxes:[{key:"required",tag:"fieldRequiredTag",display_label:"fieldRequiredResolveConv",enabled:!0,selected:!1}]},DROPDOWN:{display_label:"fieldTypeDropdown",checkboxes:[{key:"required",tag:"fieldRequiredTag",display_label:"fieldRequiredResolveConv",enabled:!0,selected:!1}]},DEPENDENT_FIELD:{display_label:"fieldTypeDependent",checkboxes:[{key:"required",tag:"fieldRequiredTag",display_label:"fieldRequiredResolveConv",enabled:!0,selected:!1}]},CHECKBOX:{display_label:"fieldTypeCheckbox",checkboxes:[{key:"required",tag:"fieldRequiredTag",display_label:"fieldRequiredResolveConv",enabled:!0,selected:!1}]},MULTI_SELECT:{display_label:"fieldTypeMultiSelectDropdown",checkboxes:[{key:"required",tag:"fieldRequiredTag",display_label:"fieldRequiredResolveConv",enabled:!0,selected:!1}]},RELATIONSHIP:{display_label:"fieldTypeLookupField",has_bottom_border:!0,checkboxes:[{key:"required",tag:"fieldRequiredTag",display_label:"fieldRequired",enabled:!0,selected:!1}]}},config:{hasPrimary:!1,customizeWidget:!1,filterByType:!1,editInternalName:!0,internalNamePrefix:"cf_",showDefaultTag:!0,showDeleteModalInlineMessage:!0,showFieldLabelInDeleteModalTitle:!1,defaultTagKey:"custom",defaultTagLabel:"nonCustomDefaultFieldTag",dropdownFieldWithoutChoicesKey:"field_options.reference",freePlanFieldAddDisabledHeader:"freePlanFieldAddDisabledHeader",freePlanFieldAddDisabledMessage:"freePlanFieldAddDisabledMessage",freePlanFieldAddDisabledButton:"freePlanFieldAddDisabledButton",noCreatePermissionFieldAddDisabledHeader:"noCreatePermissionFieldAddDisabledHeader",noCreatePermissionFieldAddDisabledMessage:"noCreatePermissionFieldAddDisabledMessage",boolShowRelationshipTypeSelect:!1,boolShowCustomToggle:!0,showCustomToggleField:"status"},labels:{headerProduct:"headerProductConvProps",subHeaderProduct:"subHeaderProductConvProps",dragDropFieldTypes:"fieldTypesDragDropConvProps",fieldTypesHeader:"",fieldsHeader:"headerProperties",subHeaderProductLink:{label:"subHeaderProductConvPropsLinkLabel",href:"https://crmsupport.freshworks.com/en/support/solutions/articles/50000005665?cloud=freshchat"},deleteFieldModalHeader:"deleteFieldTitleConversationProp",deleteFieldModalMessage:"deleteFieldMessageConversationProp"},maximumLimits:{widgets:{count:0,message:""},fields:{count:50,message:"maximumLimits.fields"},filterable:{count:0,message:""},unique:{count:0,message:""},NUMBER:{count:20,message:"maximumLimits.fields"},CHECKBOX:{count:30,message:"maximumLimits.fields"},DECIMAL:{count:10,message:"maximumLimits.fields"},MULTI_SELECT:{count:10,message:"maximumLimits.fields"},DATE:{count:30,message:"maximumLimits.fields"},TEXT:{count:50,message:"maximumLimits.fields"},PARAGRAPH:{count:10,message:"maximumLimits.fields"},DROPDOWN:{count:50,message:"maximumLimits.fields"},maxLabelChars:{count:255,message:"maximumLimits.maxCharsWarning"},maxInternalNameChars:{count:47,message:"maximumLimits.maxCharsWarning"},maxDropdownChoices:{count:2e3,message:"maximumLimits.maxChoiceOptionsWarning"},RELATIONSHIP:{count:5,message:"maximumLimits.lookups"},DEPENDENT_FIELD:{count:5e3,message:"maximumLimits.fields"}}}};function l(i,l={}){try{if(i&&l)return e.t(`formBuilder.${i}`,l);if(i)return e.t(`formBuilder.${i}`)}catch(a){console.warn(`unable to translate ${i} : `,a)}return""}function a(e,i){return!!(i&&""!==i&&e&&Object.prototype.hasOwnProperty.call(e,i))}function d(e,i){try{return i?null==i?void 0:i.split(".").reduce(((e,i)=>e?e[i]:void 0),e):""}catch(l){console.error(`Error occurred in getNestedKeyValueFromObject: ${l}`)}return""}function t(e){try{return JSON.parse(JSON.stringify(e))}catch(i){return console.log("error deep cloning object - "+i),{}}}function s(e,l="CUSTOM_OBJECTS",d=-1,t=!0){try{if(l&&"CUSTOM_OBJECTS"!==l){const e=i[l];if(a(e,"config")&&a(e.config,"hasPrimary")&&!e.config.hasPrimary)return!1}if(a(e,"type")&&"PRIMARY"===e.type)return!0;if(t&&0===d)return!0}catch(s){console.error(`Error occurred in isPrimaryFieldType: ${s}`)}return!1}function r(e){try{let i=null;if(a(e,"field_options")&&a(e.field_options,"unique")&&(i=e.field_options.unique,i&&(!0===i||"true"===i)))return!0}catch(i){}return!1}function n(e="CUSTOM_OBJECTS"){try{return i[e].maximumLimits}catch(l){}return null}function o(e="CUSTOM_OBJECTS",i){if(i&&""!==i)try{const l=n(e);return null==l?void 0:l[i]}catch(l){return null}return null}function u(e="CUSTOM_OBJECTS",l){if("CUSTOM_OBJECTS"===e)return l;try{const d=i[e];if(a(d,"mappedFieldTypes"))return d.mappedFieldTypes[l.toString()]}catch(d){}return l}function c(e="CUSTOM_OBJECTS",l){try{const a=i[e].fieldProps[l.toString()].checkboxes;if(a&&a.length>0)return t(a)}catch(a){}return null}function f(e){let i=e&&e.toLowerCase().trim()||"";return i=i.replace(/\s+/g,"_").replace(/[^a-z0-9_]/gi,""),i=/^(_+)$/g.test(i)?"":i,i}function m(e,i){try{if(e&&""!==e&&i&&""!==i){const l=e.indexOf(i);return-1===l?e:e.slice(0,l)+e.slice(l+i.length)}}catch(l){return e}return e}function T(e,i,l,d=!1){if(i){if("trial"===e&&"EDIT"===l&&d)return!0;if("trial"===e||!i.view)return!1;switch(l){case"CREATE":if(a(i,"create")&&i.create)return!0;break;case"EDIT":if(a(i,"edit")&&i.edit)return!0;break;case"DELETE":if(a(i,"delete")&&i.delete)return!0}}return!1}function b(){let e=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(i){const l=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"===i?l:3&l|8).toString(16)}))}function p(e="CUSTOM_OBJECTS",l){var a,d;const t=i[e];return(null===(a=null==t?void 0:t.config)||void 0===a?void 0:a.boolShowCustomToggle)&&l===(null===(d=null==t?void 0:t.config)||void 0===d?void 0:d.showCustomToggleField)}function g(e,i){const l=parseInt(i,10);return function e(i,a){return a===l?i[0]:i&&i[0]&&i[0].fields?e(i[0].fields,a+1):null}(e.fields,1)}const y=(e,i)=>e.find((e=>e.value===i)),E=(e,i)=>e.find((e=>e.id===i));function R(e,i,l,a){if(!a)return{};const d=e[`level_${a}`],t=l.length?l:i.map((e=>e.id));return d&&t.includes(d)?e:Object.assign({[`level_${a}`]:t[0]},e)}function x(e,i,{label:l=null,internalName:a=null,name:d=null,choices:t=null}){if(!i){const i=Object.assign({},e);return l&&(i.label=l),d&&(i.name=d),i}const s=g(e,i);return s&&(l&&(s.label=l),d&&(s.name=d),a&&(s.internalName=a),t&&t.length&&(s.choices=t)),Object.assign(Object.assign({},e),{fields:e.fields})}function C(e,i){const l=e.split("\n"),a=i.fields[0];let d=null,t=null;return l.forEach((e=>{const i=e.trim().replace(/\t/g,"");if(i&&length)if(e.startsWith("\t")){if(e.startsWith("\t")&&!e.startsWith("\t\t")){if(d&&!y(a.fields[0].choices,i)){t={id:b(),value:i,dependent_ids:{field:[],choice:[]}};const e=a.fields[0];e.id||(e.id=b()),d.dependent_ids.choice.push(t.id),d.dependent_ids.field.length||d.dependent_ids.field.push(e.id),e.choices.push(t)}}else if(t&&!y(a.fields[0].fields[0].choices,i)){const e=a.fields[0].fields[0];e.id||(e.id=b());const l={id:b(),value:i,dependent_ids:{choice:[],field:[]}};t.dependent_ids.choice.push(l.id),t.dependent_ids.field.length||t.dependent_ids.field.push(e.id),a.fields[0].fields[0].choices.push(l)}}else y(a.choices,i)||(d={id:b(),value:i,dependent_ids:{field:[],choice:[]}},a.choices.push(d))})),Object.assign(Object.assign({},i),{fields:[a]})}function D(e){const i=new Set;for(let l=0;l<e.length;l++){if(e[l]&&i.has(e[l]))return!0;i.add(e[l])}return!1}function h(e,i){if(!e.isDependentField)return;const l=e.dependentLevels,a=t(l);return Object.keys(l).forEach((e=>{Number(m(e,"level_"))>i.detail.level&&delete a[e]})),Object.assign(Object.assign({},a),{[`level_${i.detail.level}`]:i.detail.id})}function _(e,i,l,a){if(!l||!i||!i.length)return{choices:e.choices,ids:[],pid:null};const d=function(e,i,l){if(!i||!e||!e.length)return null;const a=E(e,l[`level_${i}`]);return a?a.id:e[0].id}(i,l,a),t=E(i,d),s=((e=[],i=[])=>e.filter((e=>i.includes(e.id))))(e.choices,t.dependent_ids.choice);return{ids:t.dependent_ids.choice,choices:s,pId:d}}function L(e,i){const l=e.fieldBuilderOptions,{level:a,parentId:d,value:t,choice:s}=i.detail;if(g(l,a).choices=t,d){const e=g(l,parseInt(a,10)-1);E(e.choices,d).dependent_ids.choice.push(s.id)}return Object.assign(Object.assign({},l),{fields:l.fields})}function P(e,i){var l,a;const d=e.fieldBuilderOptions,{level:s,parentId:r,choice:n}=i.detail;if(r){const e=parseInt(s,10)-1,i=g(d,e),l=E(i.choices,r),a=(o=n.id,l.dependent_ids.choice.findIndex((e=>e===o)));a>-1&&(l.dependent_ids.choice=[...l.dependent_ids.choice.slice(0,a),...l.dependent_ids.choice.slice(a+1)])}var o;const u=(null===(a=null===(l=n.dependent_ids)||void 0===l?void 0:l.choice)||void 0===a?void 0:a.length)?n.dependent_ids.choice:[],c=g(d,s);c.choices=t(c.choices.filter((e=>e.id!==n.id)));const f=(e,i)=>{const l=parseInt(i,10)+1,a=g(d,l),s=[];a&&(a.choices=t(a.choices.filter((i=>!e.includes(i.id)||(s.push(...i.dependent_ids.choice),!1))))),s.length&&f(s,l)};return u.length&&f(u,s),Object.assign(Object.assign({},d),{fields:d.fields})}function O(e,i){const l=t(e);return function e(l){l.name=m(l.name,i),l.label=l.label||"",a(l,"fields")&&l.fields.length&&e(l.fields[0])}(l.fields[0]),Object.assign(Object.assign({},l),{fields:l.fields})}export{u as a,n as b,s as c,t as d,O as e,a as f,c as g,T as h,l as i,r as j,i as k,d as l,D as m,p as n,h as o,L as p,P as q,m as r,C as s,f as t,x as u,R as v,o as w,_ as x,b as y}