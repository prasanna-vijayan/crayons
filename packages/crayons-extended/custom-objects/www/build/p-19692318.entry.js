import{r as t,c as e,h as i,g as s}from"./p-a21f6813.js";import{T as o}from"./p-c3aeca37.js";import"./p-b683e35d.js";const n=class{constructor(i){t(this,i),this.fwDelete=e(this,"fwDelete",7),this.conditionSchema={},this.filterText={},this.controlProps={}}onSelection(t){var e,i;const{tagName:s}=t.composedPath()[0];if("FW-LIST-OPTIONS"===s)this.selectedCondition=t.detail.value,this.valueState=void 0,this.value=void 0,null===(i=null===(e=this.conditionElement)||void 0===e?void 0:e.refresh)||void 0===i||i.call(e);else if("FW-DATEPICKER"===s)if("DATE_RANGE"===this.conditionSchema[this.selectedCondition].type){const{fromDate:e,toDate:i}=t.detail.value;this.valueState={from:e,to:i}}else this.valueState=t.detail.value;else"FW-SELECT"===s&&(this.valueState=t.detail.meta.selectedOptions);t.stopImmediatePropagation(),t.stopPropagation(),t.preventDefault()}onInputChange(t){this.valueState=t.detail.value,t.stopImmediatePropagation(),t.stopPropagation(),t.preventDefault()}onConditionChange(t){this.selectedCondition=t}onValueChange(t){this.valueState=t}async isValid(){return!this.conditionElement||this.conditionElement.isValid()}setConditionOptions(t){this.conditionOptions=Object.keys(t).map((t=>Object.assign(Object.assign({},this.conditionSchema[t]),{value:t})))}renderContent(t){let e={};switch(t.type){case"TEXT":case"NUMBER":return e.type="NUMBER"===t.type?"number":"text",i("fw-input-condition",{key:`${this.filterOn}-${this.identifier}`,value:this.value,controlProps:Object.assign(Object.assign({},this.controlProps),e),ref:t=>this.conditionElement=t});case"NUMBER_RANGE":return i("fw-input-range-condition",{key:`${this.filterOn}-${this.identifier}`,value:this.value,controlProps:this.controlProps,ref:t=>this.conditionElement=t});case"DROPDOWN":return i("fw-select-condition",{key:`${this.filterOn}-${this.identifier}`,value:this.value,controlProps:this.controlProps,ref:t=>this.conditionElement=t});case"MULTI_SELECT":return e.multiple=!0,i("fw-select-condition",{key:`${this.filterOn}-${this.identifier}`,value:this.value,controlProps:Object.assign(Object.assign({},this.controlProps),e),ref:t=>this.conditionElement=t});case"DATE":return e={displayFormat:"dd MMM yyyy",readonly:!0,value:this.value},i("fw-date-condition",{key:`${this.filterOn}-${this.selectedCondition}`,controlProps:Object.assign(Object.assign({},this.controlProps),e),ref:t=>this.conditionElement=t});case"DATE_RANGE":if(e={displayFormat:"dd MMM yyyy",readonly:!0,mode:"range"},this.value){const{from:t,to:i}=this.value;if(t&&i){const s={fromDate:t,toDate:i};e=Object.assign(Object.assign({},e),s)}}return i("fw-date-condition",{key:`${this.filterOn}-${this.selectedCondition}`,controlProps:Object.assign(Object.assign({},this.controlProps),e),ref:t=>this.conditionElement=t})}}componentWillLoad(){this.onConditionChange(this.condition),this.onValueChange(this.value),this.setConditionOptions(this.conditionSchema)}render(){return i("div",{class:"container"},i("div",{class:"header"},i("div",{class:"header-text"},i("span",{class:"displayText"},this.filterText),i("fw-filter-dropdown",{id:"condition-select",value:this.condition,options:this.conditionOptions})),i("span",{onClick:()=>{this.fwDelete.emit({value:this.filterOn})},class:"closeBtn"},i("fw-icon",{name:"cross",color:"#264966",size:8}))),i("div",{class:"content"},this.renderContent(this.conditionSchema[this.selectedCondition])))}static get watchers(){return{condition:["onConditionChange"],value:["onValueChange"]}}};n.style=':host{font-family:var(--fw-font-family, -apple-system, BlinkMacSystemFont, "Segoe UI", roboto, oxygen, ubuntu, cantarell, "Open Sans", "Helvetica Neue", sans-serif);-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;-webkit-box-sizing:border-box;box-sizing:border-box}.container{border:1px solid #cfd7df;-webkit-box-sizing:border-box;box-sizing:border-box;border-radius:4px;-webkit-margin-before:10px;margin-block-start:10px;-webkit-padding-after:12px;padding-block-end:12px;padding-inline:12px;-webkit-padding-before:8px;padding-block-start:8px}.container .header{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:justify;justify-content:space-between}.container .header .header-text{display:-ms-flexbox;display:flex}.container .header .header-text .displayText{-webkit-margin-end:4px;margin-inline-end:4px;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}.container .header .closeBtn{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:12px;height:12px;border-radius:6px;background-color:transparent;cursor:pointer}.container .content{display:-ms-flexbox;display:flex;-webkit-margin-before:8px;margin-block-start:8px}.container .content:empty{-webkit-margin-before:0px;margin-block-start:0px}.container .content fw-input-condition{width:220px}';const a=class{constructor(i){t(this,i),this.fwChange=e(this,"fwChange",7)}onInput(t){this.value=t.detail.value}onSelection(t){if("FW-LIST-OPTIONS"===t.composedPath()[0].tagName){const{value:e,meta:i}=t.detail;this.fwChange.emit({value:e,meta:i,id:this.host.id}),this.dropdown.hide(),t.stopPropagation(),t.stopImmediatePropagation()}}componentWillLoad(){}render(){return i("fw-popover",{ref:t=>this.dropdown=t,distance:"4","same-width":"true",placement:"bottom"},i("fw-input",{slot:"popover-trigger",placeholder:o.t("searchDropdown.placeholder.search"),iconRight:"search",tabIndex:0,role:"button"}),i("fw-list-options",{slot:"popover-content",filterText:this.value,options:this.options}))}get host(){return s(this)}};a.style=':host{font-family:var(--fw-font-family, -apple-system, BlinkMacSystemFont, "Segoe UI", roboto, oxygen, ubuntu, cantarell, "Open Sans", "Helvetica Neue", sans-serif);-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;-webkit-box-sizing:border-box;box-sizing:border-box}:host{display:block;position:relative}';export{n as fw_filter_condition,a as fw_search_dropdown}