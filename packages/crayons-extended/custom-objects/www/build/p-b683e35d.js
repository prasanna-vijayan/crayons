import{e,f as s}from"./p-a21f6813.js";const o=e=>!("isConnected"in e)||e.isConnected,t=(()=>{let e;return(...s)=>{e&&clearTimeout(e),e=setTimeout((()=>{e=0,(e=>{for(let s of e.keys())e.set(s,e.get(s).filter(o))})(...s)}),2e3)}})(),n=["af","ar","ar-DZ","ar-EG","ar-MA","ar-SA","ar-TN","az","be","bg","bn","bs","ca","cs","cy","da","de","de-AT","el","en-AU","en-CA","en-GB","en-IE","en-IN","en-NZ","en-US","en-ZA","eo","es","et","eu","fa-IR","fi","fr","fr-CA","fr-CH","fy","gd","gl","gu","he","hi","hr","ht","hu","hy","id","is","it","ja","ja-Hira","ka","kk","km","kn","ko","lb","lt","lv","mk","mn","ms","mt","nb","nl","nl-BE","nn","pl","pt","pt-BR","ro","ru","sk","sl","sq","sr","sr-Latn","sv","ta","te","th","tr","ug","uk","uz","uz-Cyrl","vi","zh-CN","zh-HK","zh-TW"],c={ar:"ar-SA",bg:"bg-BG",bs:"bs-BA",ca:"ca-ES",cs:"cs-CZ",da:"da-DK",de:"de-DE",el:"el-GR",en:"en-US",es:"es-ES",et:"et-EE",fi:"fi-FI",fil:"fil-PH",fr:"fr-FR",he:"he-IL",hr:"hr-HR",hu:"hu-HU",id:"id-ID",is:"is-IS",it:"it-IT",ja:"ja-JP",ko:"ko-KR",lt:"lt-LT",lv:"lv-LV",nl:"nl-NL",no:"no-NO",pl:"pl-PL",pt:"pt-PT",ro:"ro-RO",ru:"ru-RU",sk:"sk-SK",sl:"sl-SI",sr:"sr-SP",sc:"sv-SE",th:"th-TH",tr:"tr-TR",uk:"uk-UA",vi:"vi-VN",zh:"zh-CN"};function _(){return function(e=document.body){const s=e.closest("[lang]");if(!s)return;let o=s.lang;return o?(-1!==o.indexOf("-")&&(o=o.split("-")[0]),-1!==o.indexOf("_")&&(o=o.split("_")[0]),o):void 0}()||function(){if("undefined"==typeof window||void 0===window.navigator)return;let e=window.navigator.languages&&window.navigator.languages.length>0?window.navigator.languages[0]:null;return e=e||window.navigator.language,void 0===e?"en":(-1!==e.indexOf("-")&&(e=e.split("-")[0]),-1!==e.indexOf("_")&&(e=e.split("_")[0]),e)}()||"en"}class a{constructor(){this.requests=new Map;const{state:o,onChange:n}=((o,n)=>{const c=((e,s=((e,s)=>e!==s))=>{let o=new Map(Object.entries(null!=e?e:{}));const t={dispose:[],get:[],set:[],reset:[]},n=()=>{o=new Map(Object.entries(null!=e?e:{})),t.reset.forEach((e=>e()))},c=e=>(t.get.forEach((s=>s(e))),o.get(e)),_=(e,n)=>{const c=o.get(e);s(n,c,e)&&(o.set(e,n),t.set.forEach((s=>s(e,n,c))))},a="undefined"==typeof Proxy?{}:new Proxy(e,{get:(e,s)=>c(s),ownKeys:()=>Array.from(o.keys()),getOwnPropertyDescriptor:()=>({enumerable:!0,configurable:!0}),has:(e,s)=>o.has(s),set:(e,s,o)=>(_(s,o),!0)}),r=(e,s)=>(t[e].push(s),()=>{((e,s)=>{const o=e.indexOf(s);o>=0&&(e[o]=e[e.length-1],e.length--)})(t[e],s)});return{state:a,get:c,set:_,on:r,onChange:(s,o)=>{const t=r("set",((e,t)=>{e===s&&o(t)})),n=r("reset",(()=>o(e[s])));return()=>{t(),n()}},use:(...e)=>{const s=e.reduce(((e,s)=>(s.set&&e.push(r("set",s.set)),s.get&&e.push(r("get",s.get)),s.reset&&e.push(r("reset",s.reset)),s.dispose&&e.push(r("dispose",s.dispose)),e)),[]);return()=>s.forEach((e=>e()))},dispose:()=>{t.dispose.forEach((e=>e())),n()},reset:n,forceUpdate:e=>{const s=o.get(e);t.set.forEach((o=>o(e,s,s)))}}})(o,n);return c.use((()=>{if("function"!=typeof e)return{};const o=new Map;return{dispose:()=>o.clear(),get:s=>{const t=e();t&&((e,s,o)=>{const t=e.get(s);t?t.includes(o)||t.push(o):e.set(s,[o])})(o,s,t)},set:e=>{const n=o.get(e);n&&o.set(e,n.filter(s)),t(o)},reset:()=>{o.forEach((e=>e.forEach(s))),t(o)}}})()),c})({lang:"",globalStrings:null,customTranslations:{}});this.state=o,this.onChange=n,this.langCodeMapping=c,this.onChange("lang",(async e=>{this.fetchTranslations(e),await this.fetchDateLangModule(e)})),this.onChange("customTranslations",(async e=>{const s=this.state.lang||_();this.state.globalStrings||await this.fetchTranslations(s);const o=(null==e?void 0:e[s])||{},t=Object.assign(Object.assign({},this.state.globalStrings),o);this.state.globalStrings=t})),"MutationObserver"in window&&new MutationObserver((async e=>{if("lang"===e[0].attributeName){const s=document.documentElement.getAttribute("lang");s!==e[0].oldValue&&(this.state.lang=s)}})).observe(document.documentElement,{attributes:!0,attributeFilter:["lang"],attributeOldValue:!0}),this.initialize()}async initialize(){await Promise.all([this.fetchTranslations(),this.fetchDateLangModule()]).catch((e=>console.error(`Error occurred in intialising i18n lib ${e.message}`)))}setLang(e){this.state.lang=e}getLang(){return this.state.lang}async getDateLangModule(e){return await this.fetchDateLangModule(e||this.state.lang)}async fetchTranslations(e){const s=e||_(),o=s.includes("-")?s:c[`${s}`]||"en-US";return this.state.lang=s,this.fetchDefaultTranslations(o).then((e=>{var o;const t=(null===(o=this.state.customTranslations)||void 0===o?void 0:o[s])||{},n=Object.assign(Object.assign({},e),t);return this.state.globalStrings=n,n}))}fetchDefaultTranslations(e){let s=this.requests.get(e);return s||(s=function(e){switch(e){case"../i18n/en-US.json":return __sc_import_crayons_custom_objects("./p-1419c8b6.js");default:return new Promise((function(s,o){("function"==typeof queueMicrotask?queueMicrotask:setTimeout)(o.bind(null,new Error("Unknown variable dynamic import: "+e)))}))}}(`../i18n/${e}.json`).then((e=>e.default)).then((e=>e)).catch((async()=>(console.warn(`Error loading config for lang: ${e} from pre-defined set. defaulting to en-US translation`),await this.fetchDefaultTranslations("en-US")))),this.requests.set(e,s)),s}async fetchDateLangModule(e){const s=e||_();let o=this.requests.get("date_"+s);if(!o){let e=s;const t=n.indexOf(e);e=t>=0?n[t]:e.includes("-")?e.split("-")[0]:e,"en"===e&&(e="en-US"),o=function(e){switch(e){case"../../../node_modules/date-fns/esm/locale/af/index.js":return __sc_import_crayons_custom_objects("./p-26971e1b.js");case"../../../node_modules/date-fns/esm/locale/ar/index.js":return __sc_import_crayons_custom_objects("./p-c2ecdf4f.js");case"../../../node_modules/date-fns/esm/locale/ar-DZ/index.js":return __sc_import_crayons_custom_objects("./p-849760b0.js");case"../../../node_modules/date-fns/esm/locale/ar-EG/index.js":return __sc_import_crayons_custom_objects("./p-dbcc04aa.js");case"../../../node_modules/date-fns/esm/locale/ar-MA/index.js":return __sc_import_crayons_custom_objects("./p-6931a5b1.js");case"../../../node_modules/date-fns/esm/locale/ar-SA/index.js":return __sc_import_crayons_custom_objects("./p-6ec0172e.js");case"../../../node_modules/date-fns/esm/locale/ar-TN/index.js":return __sc_import_crayons_custom_objects("./p-c8aabafe.js");case"../../../node_modules/date-fns/esm/locale/az/index.js":return __sc_import_crayons_custom_objects("./p-a5726986.js");case"../../../node_modules/date-fns/esm/locale/be/index.js":return __sc_import_crayons_custom_objects("./p-79d0f4da.js");case"../../../node_modules/date-fns/esm/locale/bg/index.js":return __sc_import_crayons_custom_objects("./p-5fda09cf.js");case"../../../node_modules/date-fns/esm/locale/bn/index.js":return __sc_import_crayons_custom_objects("./p-48cab13b.js");case"../../../node_modules/date-fns/esm/locale/bs/index.js":return __sc_import_crayons_custom_objects("./p-7047db7a.js");case"../../../node_modules/date-fns/esm/locale/ca/index.js":return __sc_import_crayons_custom_objects("./p-52cd9687.js");case"../../../node_modules/date-fns/esm/locale/cs/index.js":return __sc_import_crayons_custom_objects("./p-91cf271d.js");case"../../../node_modules/date-fns/esm/locale/cy/index.js":return __sc_import_crayons_custom_objects("./p-1b4a70fb.js");case"../../../node_modules/date-fns/esm/locale/da/index.js":return __sc_import_crayons_custom_objects("./p-f9bd4b59.js");case"../../../node_modules/date-fns/esm/locale/de/index.js":return __sc_import_crayons_custom_objects("./p-e4dc5a6e.js");case"../../../node_modules/date-fns/esm/locale/de-AT/index.js":return __sc_import_crayons_custom_objects("./p-0057e3a8.js");case"../../../node_modules/date-fns/esm/locale/el/index.js":return __sc_import_crayons_custom_objects("./p-4dec0a6b.js");case"../../../node_modules/date-fns/esm/locale/en-AU/index.js":return __sc_import_crayons_custom_objects("./p-3ac85faf.js");case"../../../node_modules/date-fns/esm/locale/en-CA/index.js":return __sc_import_crayons_custom_objects("./p-46801bb3.js");case"../../../node_modules/date-fns/esm/locale/en-GB/index.js":return __sc_import_crayons_custom_objects("./p-2e95d8cb.js");case"../../../node_modules/date-fns/esm/locale/en-IE/index.js":return __sc_import_crayons_custom_objects("./p-a9d5d9e1.js");case"../../../node_modules/date-fns/esm/locale/en-IN/index.js":return __sc_import_crayons_custom_objects("./p-b8c52776.js");case"../../../node_modules/date-fns/esm/locale/en-NZ/index.js":return __sc_import_crayons_custom_objects("./p-7340eadb.js");case"../../../node_modules/date-fns/esm/locale/en-US/index.js":return __sc_import_crayons_custom_objects("./p-4c42b4dc.js");case"../../../node_modules/date-fns/esm/locale/en-ZA/index.js":return __sc_import_crayons_custom_objects("./p-c9223b39.js");case"../../../node_modules/date-fns/esm/locale/eo/index.js":return __sc_import_crayons_custom_objects("./p-76948969.js");case"../../../node_modules/date-fns/esm/locale/es/index.js":return __sc_import_crayons_custom_objects("./p-98b4e1d5.js");case"../../../node_modules/date-fns/esm/locale/et/index.js":return __sc_import_crayons_custom_objects("./p-105cee08.js");case"../../../node_modules/date-fns/esm/locale/eu/index.js":return __sc_import_crayons_custom_objects("./p-80a00f24.js");case"../../../node_modules/date-fns/esm/locale/fa-IR/index.js":return __sc_import_crayons_custom_objects("./p-19f24833.js");case"../../../node_modules/date-fns/esm/locale/fi/index.js":return __sc_import_crayons_custom_objects("./p-05068da9.js");case"../../../node_modules/date-fns/esm/locale/fr/index.js":return __sc_import_crayons_custom_objects("./p-d22413e8.js");case"../../../node_modules/date-fns/esm/locale/fr-CA/index.js":return __sc_import_crayons_custom_objects("./p-f8bf50cb.js");case"../../../node_modules/date-fns/esm/locale/fr-CH/index.js":return __sc_import_crayons_custom_objects("./p-e9621f51.js");case"../../../node_modules/date-fns/esm/locale/fy/index.js":return __sc_import_crayons_custom_objects("./p-c6f5b8db.js");case"../../../node_modules/date-fns/esm/locale/gd/index.js":return __sc_import_crayons_custom_objects("./p-cb92f7ca.js");case"../../../node_modules/date-fns/esm/locale/gl/index.js":return __sc_import_crayons_custom_objects("./p-f00234b6.js");case"../../../node_modules/date-fns/esm/locale/gu/index.js":return __sc_import_crayons_custom_objects("./p-95d7912a.js");case"../../../node_modules/date-fns/esm/locale/he/index.js":return __sc_import_crayons_custom_objects("./p-ded1c997.js");case"../../../node_modules/date-fns/esm/locale/hi/index.js":return __sc_import_crayons_custom_objects("./p-44f09c62.js");case"../../../node_modules/date-fns/esm/locale/hr/index.js":return __sc_import_crayons_custom_objects("./p-2aaf9563.js");case"../../../node_modules/date-fns/esm/locale/ht/index.js":return __sc_import_crayons_custom_objects("./p-ef83761a.js");case"../../../node_modules/date-fns/esm/locale/hu/index.js":return __sc_import_crayons_custom_objects("./p-7b23cd26.js");case"../../../node_modules/date-fns/esm/locale/hy/index.js":return __sc_import_crayons_custom_objects("./p-8be2de08.js");case"../../../node_modules/date-fns/esm/locale/id/index.js":return __sc_import_crayons_custom_objects("./p-7aec1636.js");case"../../../node_modules/date-fns/esm/locale/is/index.js":return __sc_import_crayons_custom_objects("./p-f9462a54.js");case"../../../node_modules/date-fns/esm/locale/it/index.js":return __sc_import_crayons_custom_objects("./p-c3805e9e.js");case"../../../node_modules/date-fns/esm/locale/ja/index.js":return __sc_import_crayons_custom_objects("./p-9b849f87.js");case"../../../node_modules/date-fns/esm/locale/ja-Hira/index.js":return __sc_import_crayons_custom_objects("./p-fe5c665b.js");case"../../../node_modules/date-fns/esm/locale/ka/index.js":return __sc_import_crayons_custom_objects("./p-60ed35f1.js");case"../../../node_modules/date-fns/esm/locale/kk/index.js":return __sc_import_crayons_custom_objects("./p-3fc80691.js");case"../../../node_modules/date-fns/esm/locale/km/index.js":return __sc_import_crayons_custom_objects("./p-1aa8fe69.js");case"../../../node_modules/date-fns/esm/locale/kn/index.js":return __sc_import_crayons_custom_objects("./p-560ee126.js");case"../../../node_modules/date-fns/esm/locale/ko/index.js":return __sc_import_crayons_custom_objects("./p-3e1b5fb0.js");case"../../../node_modules/date-fns/esm/locale/lb/index.js":return __sc_import_crayons_custom_objects("./p-98f216be.js");case"../../../node_modules/date-fns/esm/locale/lt/index.js":return __sc_import_crayons_custom_objects("./p-f71bba7b.js");case"../../../node_modules/date-fns/esm/locale/lv/index.js":return __sc_import_crayons_custom_objects("./p-79a6b94f.js");case"../../../node_modules/date-fns/esm/locale/mk/index.js":return __sc_import_crayons_custom_objects("./p-b3eadb05.js");case"../../../node_modules/date-fns/esm/locale/mn/index.js":return __sc_import_crayons_custom_objects("./p-01bf9ebd.js");case"../../../node_modules/date-fns/esm/locale/ms/index.js":return __sc_import_crayons_custom_objects("./p-cee81f7e.js");case"../../../node_modules/date-fns/esm/locale/mt/index.js":return __sc_import_crayons_custom_objects("./p-f85fc602.js");case"../../../node_modules/date-fns/esm/locale/nb/index.js":return __sc_import_crayons_custom_objects("./p-a75fbdc6.js");case"../../../node_modules/date-fns/esm/locale/nl/index.js":return __sc_import_crayons_custom_objects("./p-95e13924.js");case"../../../node_modules/date-fns/esm/locale/nl-BE/index.js":return __sc_import_crayons_custom_objects("./p-0240dc8c.js");case"../../../node_modules/date-fns/esm/locale/nn/index.js":return __sc_import_crayons_custom_objects("./p-eb034d91.js");case"../../../node_modules/date-fns/esm/locale/pl/index.js":return __sc_import_crayons_custom_objects("./p-5f7cd451.js");case"../../../node_modules/date-fns/esm/locale/pt/index.js":return __sc_import_crayons_custom_objects("./p-71e84d49.js");case"../../../node_modules/date-fns/esm/locale/pt-BR/index.js":return __sc_import_crayons_custom_objects("./p-f75cea31.js");case"../../../node_modules/date-fns/esm/locale/ro/index.js":return __sc_import_crayons_custom_objects("./p-0ce5ba40.js");case"../../../node_modules/date-fns/esm/locale/ru/index.js":return __sc_import_crayons_custom_objects("./p-16207840.js");case"../../../node_modules/date-fns/esm/locale/sk/index.js":return __sc_import_crayons_custom_objects("./p-79821613.js");case"../../../node_modules/date-fns/esm/locale/sl/index.js":return __sc_import_crayons_custom_objects("./p-9198223f.js");case"../../../node_modules/date-fns/esm/locale/sq/index.js":return __sc_import_crayons_custom_objects("./p-b8608729.js");case"../../../node_modules/date-fns/esm/locale/sr/index.js":return __sc_import_crayons_custom_objects("./p-3f664d47.js");case"../../../node_modules/date-fns/esm/locale/sr-Latn/index.js":return __sc_import_crayons_custom_objects("./p-67721dc8.js");case"../../../node_modules/date-fns/esm/locale/sv/index.js":return __sc_import_crayons_custom_objects("./p-94413217.js");case"../../../node_modules/date-fns/esm/locale/ta/index.js":return __sc_import_crayons_custom_objects("./p-ccc21ce6.js");case"../../../node_modules/date-fns/esm/locale/te/index.js":return __sc_import_crayons_custom_objects("./p-36100e2f.js");case"../../../node_modules/date-fns/esm/locale/th/index.js":return __sc_import_crayons_custom_objects("./p-dca62749.js");case"../../../node_modules/date-fns/esm/locale/tr/index.js":return __sc_import_crayons_custom_objects("./p-4346377d.js");case"../../../node_modules/date-fns/esm/locale/ug/index.js":return __sc_import_crayons_custom_objects("./p-b4f8baed.js");case"../../../node_modules/date-fns/esm/locale/uk/index.js":return __sc_import_crayons_custom_objects("./p-f68a8c22.js");case"../../../node_modules/date-fns/esm/locale/uz/index.js":return __sc_import_crayons_custom_objects("./p-8de01859.js");case"../../../node_modules/date-fns/esm/locale/uz-Cyrl/index.js":return __sc_import_crayons_custom_objects("./p-28c1e492.js");case"../../../node_modules/date-fns/esm/locale/vi/index.js":return __sc_import_crayons_custom_objects("./p-b24dc34e.js");case"../../../node_modules/date-fns/esm/locale/zh-CN/index.js":return __sc_import_crayons_custom_objects("./p-ed6a6822.js");case"../../../node_modules/date-fns/esm/locale/zh-HK/index.js":return __sc_import_crayons_custom_objects("./p-a871698a.js");case"../../../node_modules/date-fns/esm/locale/zh-TW/index.js":return __sc_import_crayons_custom_objects("./p-55fecc16.js");default:return new Promise((function(s,o){("function"==typeof queueMicrotask?queueMicrotask:setTimeout)(o.bind(null,new Error("Unknown variable dynamic import: "+e)))}))}}(`../../../node_modules/date-fns/esm/locale/${e}/index.js`).then((e=>e.default)).then((e=>e)).catch((async s=>(console.warn(`Error loading date lang module for : ${e} from date-fns set`,s),await this.fetchDateLangModule("en-US").catch((e=>(console.error(" Error in fetching default date lang module ",e.message),{})))))),this.requests.set("date_"+s,o)}return o}setTranslations(e){this.state.customTranslations=e}t(e="",s,o){var t;return null!==(t=function({key:e,values:s,obj:o}){var t;const n=null!==(t=function(e,s={}){return e?null==e?void 0:e.split(".").reduce(((e,s)=>e?e[s]:void 0),s):""}(e,o))&&void 0!==t?t:e;return s?function(e,s){return Object.entries(s).reduce(((e,[s,o])=>{return e.replace(new RegExp(`{{[  ]*${s}[  ]*}}`,"gm"),String("function"==typeof(t=o)?t():t));var t}),e)}(n,s):n}({key:e,values:s,obj:this.state.globalStrings,lang:this.state.lang,context:o}))&&void 0!==t?t:e}}export{a as T}