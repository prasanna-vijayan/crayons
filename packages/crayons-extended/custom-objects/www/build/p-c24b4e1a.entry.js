import{r as t,c as e,h as s,F as i,g as a}from"./p-a21f6813.js";import{T as o}from"./p-c3aeca37.js";import"./p-b683e35d.js";const r=class{constructor(s){t(this,s),this.fwDelete=e(this,"fwDelete",7),this.fwPagination=e(this,"fwPagination",7),this.orderByData=[],this.showDelete=!1,this.checkAll=!1,this.selectedRows=[],this.tableProps={},this.paginationProps={},this.customStyles={},this.tableWidth=null,this.tableHeight=null,this.loading=!1,this.showError=!1,this.sortableColumns={},this.isSelectable=!0}onLoadingChange(t){this.showError||this.table.loadTable(t)}onTableSelectionChange(t){this.setSelectedRow(t.detail.selected)}onChange(t){var e,s;"FW-PAGINATION"===t.composedPath()[0].tagName?(this.clearTableSelection(),this.fwPagination.emit(t.detail)):"selectAll"===t.composedPath()[0].id&&this.table.selectAllRows(null===(s=null===(e=t.detail)||void 0===e?void 0:e.meta)||void 0===s?void 0:s.checked).then((t=>{this.checkAll=!0,this.setSelectedRow(t,!0)})),t.stopImmediatePropagation(),t.stopPropagation(),t.preventDefault()}get style(){const t={width:null,height:null};this.tableWidth&&(t.width=this.tableWidth),this.tableHeight&&(t.height=this.tableHeight);const e="object"==typeof this.customStyles?this.customStyles:{};return Object.assign(Object.assign({},t),e)}async clearTableSelection(){this.showError||(this.table.selectAllRows(!1),this.setSelectedRow([]))}setSelectedRow(t,e=!1){this.selectedRows=t.length>0?t:[],this.showDelete=this.selectedRows.length>0,e||(this.checkAll=this.tableProps.rows.length>0&&this.tableProps.rows.length===this.selectedRows.length&&this.tableProps.rows.every((t=>this.selectedRows.includes(t.id))))}setSortableColumns(t){this.orderByData=Object.keys(t).map((e=>Object.assign(Object.assign({},t[e]),{value:e})))}onDelete(){this.fwDelete.emit({selectedRows:this.selectedRows})}renderDeleteButton(){return s("fw-button",{class:"action-items",color:"secondary",onClick:this.onDelete.bind(this)},s("fw-icon",{slot:"before-label",name:"delete"}),s("span",null,o.t("platformTable.delete")))}renderSort(){return s(i,null,s("label",{class:"sort-label"},o.t("platformTable.sortby"),":"),s("fw-sort-select",{class:"sort",orderBy:this.orderBy,order:this.order,sortOptions:this.orderByData}))}componentWillLoad(){this.defaultProps=this.host.id?{id:`platform-${this.host.id}`}:{},this.setSortableColumns(this.sortableColumns)}componentDidLoad(){this.loading&&this.onLoadingChange(this.loading)}render(){return s(i,null,s("div",{class:"toolbar"},s("span",{class:"toolbar-prefix"},this.isSelectable&&s("fw-checkbox",{id:"selectAll",disabled:this.showError,checked:this.checkAll}),this.showDelete?this.renderDeleteButton():this.renderSort()),s("span",{class:"toolbar-suffix"},s("slot",{name:"toolbar-before"}),s("fw-pagination",Object.assign({},this.paginationProps)),s("slot",{name:"toolbar-after"}))),this.showError?s("slot",{name:"error-state"}):s("fw-data-table",Object.assign({style:this.style},this.defaultProps,this.tableProps,{class:"table",ref:t=>{this.table=t},isSelectable:this.isSelectable})))}get host(){return a(this)}static get watchers(){return{loading:["onLoadingChange"]}}};r.style=':host{font-family:var(--fw-font-family, -apple-system, BlinkMacSystemFont, "Segoe UI", roboto, oxygen, ubuntu, cantarell, "Open Sans", "Helvetica Neue", sans-serif);-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;-webkit-box-sizing:border-box;box-sizing:border-box}.toolbar{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:justify;justify-content:space-between;-webkit-margin-after:8px;margin-block-end:8px;-webkit-padding-start:16px;padding-inline-start:16px;-webkit-padding-after:12px;padding-block-end:12px;-webkit-padding-end:16px;padding-inline-end:16px;-webkit-padding-before:12px;padding-block-start:12px;background:#ffffff;border:1px solid rgba(207, 215, 223, 0.4);-webkit-box-shadow:0px 1px 4px rgba(18, 52, 77, 0.16);box-shadow:0px 1px 4px rgba(18, 52, 77, 0.16);-webkit-box-sizing:border-box;box-sizing:border-box;border-radius:4px}.toolbar .action-items{-webkit-margin-start:12px;margin-inline-start:12px}.toolbar .sort-label{font-size:14px;-webkit-margin-start:16px;margin-inline-start:16px;color:#465789;font-weight:400}.toolbar #selectAll{width:16px}.toolbar-suffix,.toolbar-prefix{-ms-flex:0 0 auto;flex:0 0 auto;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}.toolbar-suffix ::slotted(*),.toolbar-prefix ::slotted(*){-webkit-margin-start:8px;margin-inline-start:8px}.table{height:var(--fw-platform-table-width, 100%);width:var(--fw-platform-table-height, 100%);border:1px solid rgba(207, 215, 223, 0.4);border-end-start-radius:0px;border-end-end-radius:0px;border-start-end-radius:4px;border-start-start-radius:4px;-webkit-box-shadow:0px 1px 4px rgba(18, 52, 77, 0.16);box-shadow:0px 1px 4px rgba(18, 52, 77, 0.16)}';export{r as fw_platform_table}